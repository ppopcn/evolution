(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1808:function(e,t,n){var a=n(2543);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("6e23164a",a,!0,{})},1809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(16),i=(a=r)&&a.__esModule?a:{default:a};t.default={data:function(){return{editableRecord:(0,i.default)({},this.record)}},props:{record:{type:Object,required:!0},full_mx_records:{type:Boolean,required:!1,default:!0},showTTL:{type:Boolean,required:!0,default:!1}},computed:{recordData:function(){var e=this.editableRecord,t=e.value,n=e.name,a=this.editableRecord.ttl,r=this.record,i=r.type,o=r.id;return n=this.$p6e.toA(n),"MX"===i&&(t=t+" "+this.$p6e.toA(this.editableRecord.mx_value)),"NS"!==i&&"CNAME"!==i||(t=this.$p6e.toA(t)),{id:o,type:i,value:t,name:n,ttl:a}},changed:function(){return this.recordData.name!==this.record.name||this.recordData.value!==this.record.value||this.recordData.ttl!==this.record.ttl}},methods:{update:function(){this.changed?this.$emit("update",this.recordData):this.$emit("close",this.record)}},created:function(){if("MX"===this.record.type){var e=this.record.value.split(" ");this.editableRecord.value=e[0],this.editableRecord.mx_value=this.$p6e.toU(e[1]||"")}this.editableRecord.name=this.$p6e.toU(this.editableRecord.name),["NS","CNAME"].includes(this.record.type)&&(this.editableRecord.value=this.$p6e.toU(this.editableRecord.value))}}},1810:function(e,t,n){"use strict";n.r(t);var a=n(1809),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t.default=r.a},1811:function(e,t,n){var a=n(2546);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("1ed35722",a,!0,{})},1812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(16)),r=o(n(8)),i=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var s={type:Boolean,required:!1,default:!1};t.default={data:function(){return{type:this.only||"A",name:"",value:"",mxValue:"",ttl:""}},computed:{requestData:function(){return{type:this.type,name:this.$p6e.toA(this.name),domain:this.domain,value:"TXT"===this.type?this.value:this.$p6e.toA(this.value),mx_value:this.$p6e.toA(this.mxValue),ttl:this.ttl}},allowedRecordTypes:function(){var e=["A","NS","MX","CNAME","PTR","TXT","SRV","AAAA"];return this.dns_spf&&e.push("SPF"),this.dns_ds&&e.push("DS"),this.dns_tlsa&&e.push("TLSA"),this.dns_caa&&e.push("CAA"),e},defaultName:function(){return this.$p6e.toU((this.pointer||this.domain)+".")},defaultTTL:function(){return this.$state.api.GET_DNS_CONTROL.response.ttl.default}},props:{only:{type:String,default:""},domain:{type:String,required:!0},dns_spf:s,dns_ds:s,dns_tlsa:s,dns_caa:s,full_mx_records:s,pointer:{type:[String,Object],required:!1,default:null},showTTL:{type:Boolean,required:!1,default:!1}},methods:{setVars:function(){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.showTTL&&(e.ttl=e.defaultTTL),t.t0=e.type,t.next="MX"===t.t0?4:"NS"===t.t0?7:"TXT"===t.t0?7:"CNAME"===t.t0?10:13;break;case 4:return e.name=e.defaultName,e.value="10",t.abrupt("break",16);case 7:return e.value="",e.name=e.defaultName,t.abrupt("break",16);case 10:return e.name="",e.value=e.defaultName,t.abrupt("break",16);case 13:e.name="",e.value="",e.mxValue="";case 16:case"end":return t.stop()}},t,e)}))()},submit:function(){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$emit("submit",(0,a.default)({},e.requestData)),e.setVars();case 2:case"end":return t.stop()}},t,e)}))()}},watch:{type:function(){this.setVars()}},created:function(){this.setVars()}}},1813:function(e,t,n){"use strict";n.r(t);var a=n(1812),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t.default=r.a},1814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(16)),r=d(n(3)),i=d(n(8)),o=d(n(7)),s=n(529),l=d(n(2548)),c=d(n(2545));function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{DnsAddRecord:l.default,DnsEditRecord:c.default},data:function(){return{checkedRecords:[],editableRecords:[]}},computed:{computedEditableRecords:function(){var e=this;return this.records.filter(function(t){var n=t.id;return e.editableRecords.includes(n)})},showTTLColumn:function(){return this.records.some(function(e){return!!e.ttl})}},props:{only:{type:String,required:!1,default:""},domain:{type:String,required:!0},records:{type:Array,requried:!0,default:function(){return[]}},pointer:{type:[String,Object],required:!1,default:null}},watch:{domain:function(e){e&&this.loadRecords()}},methods:{strToChunks:function(e,t){for(var n=e,a=[];n;)a.push(n.slice(0,t)),n=n.slice(t);return a.join("<wbr>")},getValueString:function(e){var t=e.value,n=e.type;return["NS","CNAME"].includes(n)&&(t=this.$p6e.toU(t)),"MX"===n&&(t=t.split(" ").map(this.$p6e.toU).join(" ")),t.length>50?this.strToChunks(t,10):t},loadRecords:function(){var e=this;return(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$emit("rows:update");case 1:case"end":return t.stop()}},t,e)}))()},updateRecord:function(e){var t=this;return(0,o.default)(i.default.mark(function n(){var o;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$request("EDIT_DNS_RECORD",(0,r.default)({},(0,a.default)({},e),{ptr:t.pointer,domain:t.domain}));case 2:o=n.sent,t.$notify({theme:o.success?"safe":"danger",title:o.success?t.$gettext("Domain record was updated successfully"):t.$gettext("Request failed")}),o.success&&(t.removeRecordFromEditable(e.id),t.loadRecords());case 5:case"end":return n.stop()}},n,t)}))()},addRecord:function(e){var t=this;return(0,o.default)(i.default.mark(function n(){return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$actionRequest("ADD_DNS_RECORD",(0,r.default)({},e,{action:"add",domain:t.domain,ptr_val:t.pointer}));case 2:n.sent&&t.loadRecords();case 4:case"end":return n.stop()}},n,t)}))()},deleteRecords:function(){var e=this;return(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$actionRequest("DELETE_DNS_RECORDS",{records:e.checkedRecords,ptr:e.pointer,domain:e.domain});case 2:t.sent&&(e.checkedRecords=[],e.loadRecords());case 4:case"end":return t.stop()}},t,e)}))()},handleEditRecords:function(){this.editableRecords=this.checkedRecords.map(function(e){return e.id}),this.checkedRecords=[]},removeRecordFromEditable:function(e){this.editableRecords=this.editableRecords.filter(function(t){return t!==e})},hash:s.objectHash}}},1815:function(e,t,n){"use strict";n.r(t);var a=n(1814),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t.default=r.a},1816:function(e,t,n){"use strict";n.r(t);var a=n(1957),r=n(1815);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);t.default=s.exports},1898:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"row",on:{keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.$emit("close",e.record)},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.update(t):null}]}},[n("td",{staticClass:"col"}),e._v(" "),n("td",{staticClass:"col"},[e._v("\n        "+e._s(e.editableRecord.type)+"\n    ")]),e._v(" "),n("td",{staticClass:"col"},[n("ui-form-element",{attrs:{group:"editRecord",vertical:"",validators:{required:!0}}},[n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.editableRecord.name,callback:function(t){e.$set(e.editableRecord,"name",t)},expression:"editableRecord.name"}})],1)],1),e._v(" "),e.showTTL?n("td",{staticClass:"col"},[n("input-text",{model:{value:e.editableRecord.ttl,callback:function(t){e.$set(e.editableRecord,"ttl",t)},expression:"editableRecord.ttl"}})],1):e._e(),e._v(" "),n("td",{staticClass:"col"},[n("div",["MX"===e.editableRecord.type?n("input-usual-select",{attrs:{slot:"additions:left",options:["0","10","20","30","40","50","60","70","80","90"]},slot:"additions:left",model:{value:e.editableRecord.value,callback:function(t){e.$set(e.editableRecord,"value",t)},expression:"editableRecord.value"}},[e.full_mx_records?n("input-text",{attrs:{slot:"additions:right"},slot:"additions:right",model:{value:e.editableRecord.mx_value,callback:function(t){e.$set(e.editableRecord,"mx_value",t)},expression:"editableRecord.mx_value"}}):e._e()],1):n("input-text",{model:{value:e.editableRecord.value,callback:function(t){e.$set(e.editableRecord,"value",t)},expression:"editableRecord.value"}})],1)]),e._v(" "),n("td",{staticClass:"col inline-actions align-right"},[n("ui-button-icon",{attrs:{icon:"check",theme:"safe",title:e.$gettext("Save"),disabled:!e.$valid("editRecord")},on:{click:e.update}})],1)])},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},1902:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tbody",{staticClass:"new-row-component"},[n("tr",[n("td",{staticClass:"col"}),e._v(" "),n("td",{staticClass:"col"},[e.only?e._e():n("input-usual-select",{staticClass:"record-select",attrs:{options:e.allowedRecordTypes},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),["A","NS","CNAME","PTR","TXT","AAAA","SRV","SPF","TLSA","CAA"].includes(e.type)?[n("td",{staticClass:"col"},[n("input-text",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),e.showTTL?n("td",{staticClass:"col"},[n("input-text",{model:{value:e.ttl,callback:function(t){e.ttl=t},expression:"ttl"}})],1):e._e(),e._v(" "),n("td",{staticClass:"col"},[n("input-text",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]:e._e(),e._v(" "),"MX"===e.type?[n("td",{staticClass:"col"},[n("input-text",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),e.showTTL?n("td",{staticClass:"col"},[n("input-text",{model:{value:e.ttl,callback:function(t){e.ttl=t},expression:"ttl"}})],1):e._e(),e._v(" "),n("td",{staticClass:"col"},[n("input-usual-select",{attrs:{options:["0","10","20","30","40","50","60","70","80","90"]},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e.full_mx_records?n("input-text",{attrs:{slot:"additions:right"},slot:"additions:right",model:{value:e.mxValue,callback:function(t){e.mxValue=t},expression:"mxValue"}}):e._e()],1)],1)]:e._e(),e._v(" "),"DS"===e.type?[n("td",{staticClass:"col"},[n("input-text",{attrs:{placeholder:"subdomain."+this.domain+"."},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),e.showTTL?n("td",{staticClass:"col"},[n("input-text",{model:{value:e.ttl,callback:function(t){e.ttl=t},expression:"ttl"}})],1):e._e(),e._v(" "),n("td",{staticClass:"col"},[n("input-text",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]:e._e(),e._v(" "),n("td",[n("ui-button",{attrs:{theme:"safe",size:"normal"},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[n("translate",[e._v("Add")])],1)],1)],2)])},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},1957:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ui-table",{attrs:{rows:e.records,columns:[{id:"type",label:this.$gettext("Type")},{id:"name",label:this.$gettext("Name"),width:"40%"},e.showTTLColumn?{id:"ttl",label:this.$gettext("TTL"),width:"1%"}:null,{id:"value",label:this.$gettext("Value"),width:"40%"},{id:"inline-actions"}],isSortable:"",isCheckable:"",disablePagination:"",checkedRows:e.checkedRecords},on:{"update:checkedRows":function(t){e.checkedRecords=t}},scopedSlots:e._u([{key:"col:inline-actions",fn:function(t){var a=t.item;return[n("ui-grid",{attrs:{main:"end"}},[n("ui-button-icon",{attrs:{icon:"pencil",title:e.$gettext("Edit")},on:{click:function(t){e.editableRecords.push(a.id)}}})],1)]}},{key:"col:name",fn:function(t){var n=t.name;return[e._v("\n            "+e._s(e.$p6e.toU(n))+"\n        ")]}},{key:"col:value",fn:function(t){var a=t.item;return n("div",{staticClass:"dns-record-value",domProps:{innerHTML:e._s(e.getValueString(a))}})}}])},[n("template",{slot:"table:actions"},[n("ui-table-action",{on:{click:e.handleEditRecords}},[n("translate",[e._v("Edit")])],1),e._v(" "),n("ui-table-action",{on:{click:function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[n("translate",[e._v("Delete")])],1)],1),e._v(" "),e._l(e.computedEditableRecords,function(t){return e.editableRecords.length?n("dns-edit-record",e._b({key:t.id,attrs:{slot:"row:"+e.hash(t),record:t,showTTL:e.showTTLColumn},on:{close:function(n){e.removeRecordFromEditable(t.id)},update:e.updateRecord},slot:"row:"+e.hash(t)},"dns-edit-record",e.$attrs,!1)):e._e()}),e._v(" "),n("dns-add-record",e._b({attrs:{slot:"row:new",only:e.only,domain:e.domain,pointer:e.pointer,showTTL:e.showTTLColumn},on:{submit:function(t){e.addRecord(t)}},slot:"row:new"},"dns-add-record",e.$attrs,!1))],2),e._v(" "),n("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("DNS record","DNS Records",e.checkedRecords.length)},on:{"click:confirm":e.deleteRecords}})],1)},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},2543:function(e,t,n){(e.exports=n(6)(!0)).push([e.i,".table .row .col.align-right[data-v-19b5d5bf]{text-align:right}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/components/local/dns/edit-record.vue"],names:[],mappings:"AA6HA,8CACI,gBAAiB,CACpB",file:"edit-record.vue?vue&type=style&index=0&id=19b5d5bf&lang=scss&scoped=true",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.table .row .col.align-right {\n    text-align: right;\n}\n"],sourceRoot:""}])},2544:function(e,t,n){"use strict";var a=n(1808);n.n(a).a},2545:function(e,t,n){"use strict";n.r(t);var a=n(1898),r=n(1810);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);n(2544);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,"19b5d5bf",null);t.default=s.exports},2546:function(e,t,n){(e.exports=n(6)(!0)).push([e.i,".record-select[data-v-257a2036]{min-width:10rem}input[type=text][data-v-257a2036],select[data-v-257a2036]{height:36px;line-height:36px;border:1px solid #f1f0f0;color:#34383c;font-size:12px;padding:0 10px;border-radius:2px;margin:2px!important}.col:first-child select[data-v-257a2036],input[type=text][data-v-257a2036]{width:100%!important}input[type=submit][data-v-257a2036]{margin:2px;height:36px;line-height:36px}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/components/local/dns/add-record.vue"],names:[],mappings:"AA8LA,gCACI,eAAgB,CACnB,0DAEG,YACA,iBACA,yBACA,cACA,eACA,eACA,kBACA,oBAAsB,CACzB,2EAGG,oBAAsB,CACzB,oCAGG,WACA,YACA,gBAAiB,CACpB",file:"add-record.vue?vue&type=style&index=0&id=257a2036&lang=scss&scoped=true",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.record-select {\n    min-width: 10rem;\n}\ninput[type="text"], select {\n    height: 36px;\n    line-height: 36px;\n    border: 1px solid #f1f0f0;\n    color: #34383c;\n    font-size: 12px;\n    padding: 0 10px;\n    border-radius: 2px;\n    margin: 2px !important;\n}\n\ninput[type="text"], .col:first-child select {\n    width: 100% !important;\n}\n\ninput[type="submit"] {\n    margin: 2px;\n    height: 36px;\n    line-height: 36px;\n}\n'],sourceRoot:""}])},2547:function(e,t,n){"use strict";var a=n(1811);n.n(a).a},2548:function(e,t,n){"use strict";n.r(t);var a=n(1902),r=n(1813);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);n(2547);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,"257a2036",null);t.default=s.exports}}]);