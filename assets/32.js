(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1092:function(t,e,n){"use strict";n.r(e);var s=n(2075),a=n(1363);for(var l in a)"default"!==l&&function(t){n.d(e,t,function(){return a[t]})}(l);var o=n(0),i=n(2219),r=n.n(i),d=Object(o.a)(a.default,s.a,s.b,!1,null,null,null);"function"==typeof r.a&&r()(d),e.default=d.exports},1362:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(15)),a=o(n(3)),l=n(13);function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,a.default)({},(0,l.preload)(["GET_HANDLERS","GET_SYSTEM_HANDLERS"]),{data:function(){return{select:[],add:{name:"",extension:""},del:{extension:""}}},computed:(0,a.default)({},(0,l.mapResponse)({GET_HANDLERS:"handlers",GET_SYSTEM_HANDLERS:"systemHandlers"}),{checkedExtensions:function(){var t=this;return this.handlers.rows.filter(function(e){return t.select.includes(e.handler)}).map(function(t){return t.extensions.split(" ")}).reduce(function(t,e){return t.concat(e)},[])},handlersList:function(){return[].concat((0,s.default)(this.handlers.rows.map(function(t){return t.handler})),(0,s.default)(this.systemHandlers.rows.map(function(t){return t.handler})))},extensionsList:function(){return[].concat((0,s.default)(this.handlers.rows.map(function(t){return t.extensions})),(0,s.default)(this.systemHandlers.rows.map(function(t){return t.extensions})))}}),methods:{createHandler:function(){this.$actionRequest("CREATE_HANDLER",{name:this.add.name,extension:this.add.extension},{reset:!0})},deleteHandlers:function(){this.$actionRequest("DELETE_HANDLERS",this.$get("select"))},deleteExtensions:function(){this.$actionRequest("DELETE_HANDLER_EXTENSION",{select:this.select,extension:this.del.extension},{reset:!0})},validateHandler:function(t){return!this.handlersList.includes(t)},validateExtension:function(t){return!this.extensionsList.includes(t)}}})},1363:function(t,e,n){"use strict";n.r(e);var s=n(1362),a=n.n(s);for(var l in s)"default"!==l&&function(t){n.d(e,t,function(){return s[t]})}(l);e.default=a.a},2075:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("template",{slot:"header:buttons"},[n("ui-button",{attrs:{theme:"primary"},on:{click:function(e){t.$dialog("CREATE_HANDLER_DIALOG").open()}}},[n("translate",[t._v("Create Handler")])],1)],1),t._v(" "),n("app-page-section",[n("ui-api-table",t._b({on:{"action:deleteHandler":function(e){t.$dialog("DELETE_HANDLERS_DIALOG").open()},"action:deleteExtension":function(e){t.$dialog("DELETE_EXTENSION_DIALOG").open()}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},"ui-api-table",{endpoint:"GET_HANDLERS",rowID:"handler",columns:{handler:t.$gettext("Handler"),extensions:t.$gettext("Extensions")},actions:{deleteHandler:t.$gettext("Delete Handler"),deleteExtension:t.$gettext("Delete Extension")},updateOn:["CREATE_HANDLER","DELETE_HANDLERS","DELETE_HANDLER_EXTENSION"]},!1))],1),t._v(" "),n("ui-link",{attrs:{slot:"bottom:links",bullet:"",name:"user/handlers/system"},slot:"bottom:links"},[n("translate",[t._v("System Apache Handlers")])],1),t._v(" "),n("ui-dialog",{attrs:{id:"CREATE_HANDLER_DIALOG",theme:"safe"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Add New Apache Handler")]),t._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{group:"createHandler",validators:{required:!0,validateHandler:t.validateHandler,maxLength:50}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Name")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.add.name,callback:function(e){t.$set(t.add,"name",e)},expression:"add.name"}}),t._v(" "),n("translate",{attrs:{slot:"error:validateHandler"},slot:"error:validateHandler"},[t._v("This handler already exists")])],1),t._v(" "),n("ui-form-element",{attrs:{group:"createHandler",validators:{required:!0,validateExtension:t.validateExtension,maxLength:10}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Extension")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.add.extension,callback:function(e){t.$set(t.add,"extension",e)},expression:"add.extension"}}),t._v(" "),n("translate",{attrs:{slot:"error:validateExtension"},slot:"error:validateExtension"},[t._v("Handler for such extension already exists")])],1)],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"createHandler"},on:{click:t.createHandler},slot:"buttons"},[n("translate",[t._v("Create")])],1)],2),t._v(" "),n("ui-dialog-delete-items",{attrs:{id:"DELETE_HANDLERS_DIALOG",subject:t.$ngettext("handler","handlers",t.select.length)},on:{"click:confirm":t.deleteHandlers}}),t._v(" "),n("ui-dialog",{attrs:{id:"DELETE_EXTENSION_DIALOG",theme:"danger"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Delete Extension")]),t._v(" "),n("ui-form-element",{attrs:{slot:"content",group:"deleteExtension",validators:{required:!0}},slot:"content"},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Extension:")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.checkedExtensions},slot:"content",model:{value:t.del.extension,callback:function(e){t.$set(t.del,"extension",e)},expression:"del.extension"}})],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"danger",validateGroup:"deleteExtension"},on:{click:t.deleteExtensions},slot:"buttons"},[n("translate",[t._v("Delete")])],1)],1)],2)},a=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a})},2219:function(t,e){}}]);