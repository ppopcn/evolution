(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1131:function(t,e,a){"use strict";a.r(e);var n=a(2027),s=a(1526);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(0),l=a(2331),u=a.n(l),r=Object(i.a)(s.default,n.a,n.b,!1,null,null,null);"function"==typeof u.a&&u()(r),e.default=r.exports},1523:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{name:"",file1:null,method:"default",dbuser:"",dbpass:""}},computed:{dbList:function(){return this.$state.api.GET_DB_LIST.response.rows.map(function(t){return t.database})}},methods:{uploadBackup:function(){this.$actionRequest("UPLOAD_BACKUP",{name:this.name,file1:this.file1,method:this.method,dbuser:this.dbuser,dbpass:this.dbpass,domain:this.$domain})}}}},1524:function(t,e,a){"use strict";a.r(e);var n=a(1523),s=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=s.a},1525:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a(3)),s=a(13),o=i(a(2332));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({},(0,s.preload)("GET_DB_LIST"),{components:{UploadBackupDialog:o.default},data:function(){return{select:[]}},methods:{databaseRequest:function(t){this.$actionRequest(t,this.$get("select"),{reset:!0})},repairDatabase:function(){this.databaseRequest("REPAIR_DATABASE")},checkDatabase:function(){this.databaseRequest("CHECK_DATABASE")},optimizeDatabase:function(){this.databaseRequest("OPTIMIZE_DATABASE")},deleteDatabase:function(){this.databaseRequest("DELETE_DATABASE")}}})},1526:function(t,e,a){"use strict";a.r(e);var n=a(1525),s=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=s.a},1943:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ui-dialog",{attrs:{id:"UPLOAD_BACKUP_DIALOG"},on:{"dialog:open":function(e){t.name=t.dbList[0]}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Upload Backup")]),t._v(" "),a("template",{slot:"content"},[a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Select Database")]),t._v(" "),a("input-usual-select",{attrs:{slot:"content",options:t.dbList},slot:"content",model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("ui-form-element",{attrs:{vertical:""}},[a("input-dropzone",{attrs:{slot:"content",showPreview:!1},slot:"content",model:{value:t.file1,callback:function(e){t.file1=e},expression:"file1"}})],1),t._v(" "),a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Connection Method")]),t._v(" "),a("ui-grid",{attrs:{slot:"content",column:""},slot:"content"},[a("input-check",{attrs:{type:"radio",value:"default"},model:{value:t.method,callback:function(e){t.method=e},expression:"method"}},[a("translate",[t._v("Your current login information")])],1),t._v(" "),a("input-check",{attrs:{type:"radio",value:"custom"},model:{value:t.method,callback:function(e){t.method=e},expression:"method"}},[a("translate",[t._v("Custom username & password")])],1)],1)],1),t._v(" "),"custom"===t.method?[a("ui-form-element",{attrs:{vertical:"",group:"uploadBackup",validators:{required:!0}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    Username\n                ")]),t._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.dbuser,callback:function(e){t.dbuser=e},expression:"dbuser"}})],1),t._v(" "),a("ui-form-element",{attrs:{vertical:"",group:"uploadBackup",validators:{required:!0}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    Password\n                ")]),t._v(" "),a("input-password",{attrs:{slot:"content"},slot:"content",model:{value:t.dbpass,callback:function(e){t.dbpass=e},expression:"dbpass"}})],1)]:t._e()],2),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"uploadBackup",disabled:!t.file1},on:{click:t.uploadBackup},slot:"buttons"},[a("translate",[t._v("Upload")])],1)],2)},s=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s})},2027:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("template",{slot:"header:buttons"},[a("ui-button-link",{attrs:{theme:"primary",name:"user/database/create"}},[a("translate",[t._v("Create new Database")])],1),t._v(" "),a("ui-button",{attrs:{theme:"safe"},on:{click:function(e){t.$dialog("UPLOAD_BACKUP_DIALOG").open()}}},[a("translate",[t._v("Upload Backup")])],1)],1),t._v(" "),a("app-page-section",[a("ui-api-table",t._b({on:{"action:repair":t.repairDatabase,"action:check":t.checkDatabase,"action:optimize":t.optimizeDatabase,"action:del":function(e){t.$dialog("DELETE_ITEMS_DIALOG").open()}},scopedSlots:t._u([{key:"col:database",fn:function(e){var n=e.database;return a("ui-link",{attrs:{name:"user/database/view",params:{database:n}}},[t._v("\n                "+t._s(n)+"\n            ")])}},{key:"col:dl_backup",fn:function(e){var n=e.database;return a("ui-button-link",{attrs:{theme:"light",size:"small",href:"/CMD_DB/"+n+".gz"}},[a("translate",[t._v("Download")])],1)}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},"ui-api-table",{endpoint:"GET_DB_LIST",rowID:"database",columns:{database:t.$gettext("Database"),nusers:t.$gettext("Number of Users"),size:{label:t.$gettext("Size"),filter:"humanReadableSize"},dl_backup:t.$gettext("Download Backup")},actions:{repair:t.$gettext("Repair"),check:t.$gettext("Check"),optimize:t.$gettext("Optimize"),del:t.$gettext("Delete")},updateOn:["REPAIR_DATABASE","CHECK_DATABASE","OPTIMIZE_DATABASE","DELETE_DATABASE","UPLOAD_BACKUP"]},!1))],1),t._v(" "),a("ui-dialog-delete-items",{attrs:{subject:t.$ngettext("database","databases",t.select.length)},on:{"click:confirm":t.deleteDatabase}}),t._v(" "),a("upload-backup-dialog")],2)},s=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s})},2331:function(t,e){},2332:function(t,e,a){"use strict";a.r(e);var n=a(1943),s=a(1524);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(0),l=Object(i.a)(s.default,n.a,n.b,!1,null,null,null);e.default=l.exports}}]);