(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{1181:function(n,e,t){"use strict";t.r(e);var r=t(2122),s=t(1773);for(var a in s)"default"!==a&&function(n){t.d(e,n,function(){return s[n]})}(a);t(2519);var o=t(0),i=t(2517),l=t.n(i),u=Object(o.a)(s.default,r.a,r.b,!1,null,"7d027ec4",null);"function"==typeof l.a&&l()(u),e.default=u.exports},1771:function(n,e,t){var r=t(2518);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,t(5).default)("6a2cebe4",r,!0,{})},1772:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(t(8)),s=c(t(7)),a=c(t(1)),o=c(t(3)),i=t(13),l=t(4),u=c(t(1256));function c(n){return n&&n.__esModule?n:{default:n}}e.default=(0,o.default)({},(0,i.preload)("GET_MULTI_SERVER_INFO"),{components:{InputIp:u.default},data:function(){return{checkedRows:[],servers:[],passwd:"",newServer:{ip:"",port:"2222",ssl:!1,user:"",passwd:""}}},computed:(0,o.default)({},(0,i.mapResponse)({GET_MULTI_SERVER_INFO:"info"}),{checkedAll:function(){return this.checkedRows.length===this.servers.length},requestData:function(){var n=this,e=this.servers.filter(function(e){return n.checkedRows.includes(e.id)}).reduce(function(n,e){var t;return(0,o.default)({},n,(t={},(0,a.default)(t,"port-"+e.id,e.port),(0,a.default)(t,"user-"+e.id,e.user),(0,a.default)(t,"ssl-"+e.id,e.ssl),(0,a.default)(t,"dns-"+e.id,e.dns),(0,a.default)(t,"domain_check-"+e.id,e.domain_check),(0,a.default)(t,"user_check-"+e.id,e.user_check),(0,a.default)(t,"email-"+e.id,e.email),(0,a.default)(t,"show_all_users-"+e.id,e.show_all_users),t))},{});return(0,o.default)({passwd:this.passwd,select:this.checkedRows},e)}}),methods:{toggleAll:function(){this.checkedRows=this.checkedAll?[]:this.servers.map(function(n){return n.id})},reloadInfo:function(){var n=this;return(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$request("GET_MULTI_SERVER_INFO");case 2:n.servers=l._.cloneDeep(n.info.servers),n.checkedRows=[];case 4:case"end":return e.stop()}},e,n)}))()},turnOn:function(){var n=this;return(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$actionRequest("MS_TURN_ON");case 2:e.sent&&n.reloadInfo();case 4:case"end":return e.stop()}},e,n)}))()},turnOff:function(){var n=this;return(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$actionRequest("MS_TURN_OFF");case 2:e.sent&&n.reloadInfo();case 4:case"end":return e.stop()}},e,n)}))()},doAction:function(n){var e=this;return(0,s.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$actionRequest("MS_ACTION",(0,o.default)((0,a.default)({},n,!0),e.requestData));case 2:t.sent&&e.reloadInfo();case 4:case"end":return t.stop()}},t,e)}))()},addServer:function(){var n=this;return(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$actionRequest("MS_ADD_SERVER",n.newServer);case 2:e.sent&&(n.reloadInfo(),n.newServer={ip:"",port:"",ssl:!1,user:"",passwd:""});case 4:case"end":return e.stop()}},e,n)}))()}},created:function(){this.servers=l._.cloneDeep(this.info.servers)}})},1773:function(n,e,t){"use strict";t.r(e);var r=t(1772),s=t.n(r);for(var a in r)"default"!==a&&function(n){t.d(e,n,function(){return r[n]})}(a);e.default=s.a},2122:function(n,e,t){"use strict";var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("app-page",{attrs:{id:"multi-server"}},[t("template",{slot:"header:buttons"},[n.info.enabled?t("ui-button",{attrs:{theme:"safe"},on:{click:function(e){n.$dialog("OFF_CONFIRMATION_DIALOG").open()}}},[t("translate",[n._v("Turn off")])],1):t("ui-button",{attrs:{theme:"safe"},on:{click:n.turnOn}},[t("translate",[n._v("Turn on")])],1),n._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(e){n.$dialog("ADD_NEW_SERVER").open()}}},[t("translate",[n._v("Add New Server")])],1)],1),n._v(" "),n.info.enabled?t("app-page-section",[t("table",{staticClass:"table-elem"},[t("thead",[t("tr",[t("th",{staticClass:"table-check lineh:1"},[t("input-checkbox",{attrs:{model:n.checkedAll},on:{change:n.toggleAll}})],1),n._v(" "),t("th",[t("translate",[n._v("IP")])],1),n._v(" "),t("th",[t("translate",[n._v("Port")])],1),n._v(" "),t("th",[t("translate",[n._v("Login")])],1),n._v(" "),t("th",[t("translate",[n._v("SSL Connection")])],1),n._v(" "),t("th",[t("translate",[n._v("Actions")])],1)])]),n._v(" "),t("tbody",n._l(n.servers,function(e){return t("tr",[t("td",{staticClass:"table-check lineh:1"},[t("input-checkbox",{attrs:{value:e.id},model:{value:n.checkedRows,callback:function(e){n.checkedRows=e},expression:"checkedRows"}})],1),n._v(" "),t("td",[e.ip?[n._v("\n                            "+n._s(e.ip)+" ("+n._s(n._f("p6e-unicode")(e.id))+")\n                        ")]:[n._v("\n                            "+n._s(n._f("p6e-unicode")(e.id))+"\n                        ")]],2),n._v(" "),t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.port,expression:"server.port"}],attrs:{type:"number"},domProps:{value:e.port},on:{input:function(t){t.target.composing||n.$set(e,"port",t.target.value)}}})]),n._v(" "),t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"server.user"}],attrs:{type:"text"},domProps:{value:e.user},on:{input:function(t){t.target.composing||n.$set(e,"user",t.target.value)}}})]),n._v(" "),t("td",[t("input-checkbox",{model:{value:e.ssl,callback:function(t){n.$set(e,"ssl",t)},expression:"server.ssl"}},[t("translate",[n._v("SSL")])],1)],1),n._v(" "),t("td",[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}]},[t("input-checkbox",{model:{value:e.dns,callback:function(t){n.$set(e,"dns",t)},expression:"server.dns"}},[t("translate",[n._v("Zone Transfer")])],1),n._v(" "),t("input-checkbox",{model:{value:e.domain_check,callback:function(t){n.$set(e,"domain_check",t)},expression:"server.domain_check"}},[t("translate",[n._v("Domain Check")])],1),n._v(" "),t("input-checkbox",{model:{value:e.user_check,callback:function(t){n.$set(e,"user_check",t)},expression:"server.user_check"}},[t("translate",[n._v("User Check")])],1),n._v(" "),t("input-checkbox",{model:{value:e.email,callback:function(t){n.$set(e,"email",t)},expression:"server.email"}},[t("translate",[n._v("E-mail Accounts")])],1),n._v(" "),t("input-checkbox",{model:{value:e.show_all_users,callback:function(t){n.$set(e,"show_all_users",t)},expression:"server.show_all_users"}},[t("translate",[n._v("Show All Users")])],1)],1)])])}))]),n._v(" "),n.checkedRows.length?t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end",cross:"center"},expression:"{ main: 'end', cross: 'center' }"}],staticClass:"table-actions"},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}]},[t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("With Selected")]),n._v(" "),t("input-password",{attrs:{slot:"content",placeholder:n.$gettext("Set Password (optional)")},slot:"content",model:{value:n.passwd,callback:function(e){n.passwd=e},expression:"passwd"}})],1),n._v(" "),t("ui-form-element",[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end"},expression:"{ main: 'end' }"},{name:"gutter",rawName:"v-gutter",value:[null,.5],expression:"[null, .5]"}],attrs:{slot:"content"},slot:"content"},[t("ui-button",{attrs:{theme:"safe"},on:{click:function(e){n.doAction("save")}}},[t("translate",[n._v("Save")])],1),n._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(e){n.doAction("test")}}},[t("translate",{attrs:{"translate-n":n.checkedRows.length,"translate-plural":"Test Connections"}},[n._v("\n                                Test Connection\n                            ")])],1),n._v(" "),t("ui-button",{attrs:{theme:"danger"},on:{click:function(e){n.$dialog("DELETE_SERVERS_DIALOG").open()}}},[t("translate",[n._v("Delete")])],1)],1)])],1)]):n._e()]):t("app-page-section",[t("translate",[n._v("\n            Multi Server is currently turned OFF\n        ")])],1),n._v(" "),t("ui-dialog-confirm",{attrs:{id:"OFF_CONFIRMATION_DIALOG"},on:{"click:confirm":n.turnOff}},[t("translate",[n._v("Are you sure you want to disable this feature?")])],1),n._v(" "),t("ui-dialog-delete-items",{attrs:{id:"DELETE_SERVERS_DIALOG",subject:n.$ngettext("server","server",n.checkedRows.length)},on:{"click:confirm":function(e){n.doAction("delete")}}}),n._v(" "),t("ui-dialog",{attrs:{id:"ADD_NEW_SERVER"}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Add New Server")]),n._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0,regex:n.regexps.ip}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("IP")]),n._v(" "),t("input-ip",{attrs:{slot:"content"},slot:"content",model:{value:n.newServer.ip,callback:function(e){n.$set(n.newServer,"ip",e)},expression:"newServer.ip"}}),n._v(" "),t("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[n._v("\n                    Should be a valid IP Address\n                ")])],1),n._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0,regex:n.regexps.port}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Port")]),n._v(" "),t("ui-input-group",{attrs:{slot:"content"},slot:"content"},[t("input-text",{attrs:{slot:"input"},slot:"input",model:{value:n.newServer.port,callback:function(e){n.$set(n.newServer,"port",e)},expression:"newServer.port"}}),n._v(" "),t("ui-button",{attrs:{slot:"additions:right"},on:{click:function(e){n.newServer.ssl=!n.newServer.ssl}},slot:"additions:right"},[t("input-checkbox",{model:{value:n.newServer.ssl,callback:function(e){n.$set(n.newServer,"ssl",e)},expression:"newServer.ssl"}},[t("translate",[n._v("SSL")])],1)],1)],1),n._v(" "),t("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[n._v("\n                    Should be a valid port number\n                ")])],1),n._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Username")]),n._v(" "),t("input-text",{attrs:{slot:"content"},slot:"content",model:{value:n.newServer.user,callback:function(e){n.$set(n.newServer,"user",e)},expression:"newServer.user"}})],1),n._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Password")]),n._v(" "),t("input-password",{attrs:{slot:"content",type:"text"},slot:"content",model:{value:n.newServer.passwd,callback:function(e){n.$set(n.newServer,"passwd",e)},expression:"newServer.passwd"}})],1)],1),n._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"safe",disabled:!n.$valid("server")},on:{click:n.addServer},slot:"buttons"},[t("translate",[n._v("Add")])],1)],1)],2)},s=[];t.d(e,"a",function(){return r}),t.d(e,"b",function(){return s})},2517:function(n,e){},2518:function(n,e,t){(n.exports=t(6)(!0)).push([n.i,"#multi-server .table-actions[data-v-7d027ec4]{font-weight:600}#multi-server .formElement[data-v-7d027ec4]{border-bottom-width:0}#multi-server input[type=number][data-v-7d027ec4]{width:75px;text-align:center;padding-right:0}#ADD_NEW_SERVER input[type=password][data-v-7d027ec4],#ADD_NEW_SERVER input[type=text][data-v-7d027ec4]{width:180px}#ADD_NEW_SERVER .inputGroup[data-v-7d027ec4]{min-width:16rem}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/pages/admin/multi-server.vue"],names:[],mappings:"AA+SA,8CAEQ,eAAgB,CAFxB,4CAKQ,qBAAsB,CAL9B,kDAQQ,WACA,kBACA,eAAgB,CACnB,wGAKG,WAAY,CAFpB,6CAKQ,eAAgB,CACnB",file:"multi-server.vue?vue&type=style&index=0&id=7d027ec4&lang=scss&scoped=true",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#multi-server {\n    .table-actions {\n        font-weight: 600;\n    }\n    .formElement {\n        border-bottom-width: 0;\n    }\n    input[type="number"] {\n        width: 75px;\n        text-align: center;\n        padding-right: 0;\n    }\n}\n\n#ADD_NEW_SERVER {\n    input[type="password"], input[type="text"] {\n        width: 180px;\n    }\n    .inputGroup {\n        min-width: 16rem;\n    }\n}\n'],sourceRoot:""}])},2519:function(n,e,t){"use strict";var r=t(1771);t.n(r).a}}]);