(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1108:function(t,e,a){"use strict";a.r(e);var s=a(2056),i=a(1441);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);var l=a(0),r=a(2276),o=a.n(r),c=Object(l.a)(i.default,s.a,s.b,!1,null,null,null);"function"==typeof o.a&&o()(c),e.default=c.exports},1440:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(a(8)),i=o(a(7)),n=o(a(3)),l=a(13),r=a(27);function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({},(0,l.preload)(["GET_EMAIL_LIST_SUBSCRIBERS","GET_EMAIL_LIST_DIGEST_SUBSCRIBERS"]),{mixins:[(0,r.$bindTab)({param:"tab",defaultTab:"list"})],data:function(){return{add:{type:"list",email:""},selectList:[],selectDigestList:[],checkedRows:{list:[],digest:[]}}},props:{name:{type:String,required:!0}},methods:{addEmail:function(){var t=this;return(0,i.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("ADD_EMAIL_TO_MAILING_LIST",{type:t.add.type,email:t.$p6e.email2ascii(t.add.email),name:t.name});case 2:e.sent&&(t.add={email:"",type:"list"});case 4:case"end":return e.stop()}},e,t)}))()},deleteDigestSubscribers:function(){this.$actionRequest("DELETE_DIGEST_SUBSCRIBER_FROM_MAILING_LIST",{name:this.name,select:this.selectDigestList},{reset:!0})},deleteSubscribers:function(){this.$actionRequest("DELETE_SUBSCRIBER_FROM_MAILING_LIST",{name:this.name,select:this.selectList},{reset:!0})}}})},1441:function(t,e,a){"use strict";a.r(e);var s=a(1440),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e.default=i.a},2056:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(e){t.$dialog("ADD_EMAIL_DIALOG").open()}},slot:"header:buttons"},[a("translate",[t._v("Add Subscriber")])],1),t._v(" "),a("app-page-section",[a("ui-tabs",{attrs:{tabs:[{id:"list",label:t.$gettext("Subscribers")},{id:"digest",label:t.$gettext("Digest Subscribers")}],selected:t.tab},on:{"update:selected":function(e){t.tab=e}}},[a("ui-api-table",t._b({attrs:{slot:"tab:list"},on:{"action:del":function(e){t.$dialog("DELETE_SUBSCRIBERS_DIALOG").open()}},slot:"tab:list",model:{value:t.selectList,callback:function(e){t.selectList=e},expression:"selectList"}},"ui-api-table",{endpoint:"GET_EMAIL_LIST_SUBSCRIBERS",rowID:"email",requestData:{name:t.name},columns:{email:{label:t.$gettext("Subscriber"),filter:"p6e-unicode-email"}},actions:{del:t.$gettext("Delete")},updateOn:["ADD_EMAIL_TO_MAILING_LIST","DELETE_SUBSCRIBER_FROM_MAILING_LIST"]},!1)),t._v(" "),a("ui-api-table",t._b({attrs:{slot:"tab:digest"},on:{"action:del":function(e){t.$dialog("DELETE_DIGEST_SUBSCRIBERS_DIALOG").open()}},slot:"tab:digest",model:{value:t.selectDigestList,callback:function(e){t.selectDigestList=e},expression:"selectDigestList"}},"ui-api-table",{endpoint:"GET_EMAIL_LIST_DIGEST_SUBSCRIBERS",rowID:"email",requestData:{name:t.name},columns:{email:{label:t.$gettext("Subscriber"),filter:"p6e-unicode-email"}},actions:{del:t.$gettext("Delete")},updateOn:["ADD_EMAIL_TO_MAILING_LIST","DELETE_DIGEST_SUBSCRIBER_FROM_MAILING_LIST"]},!1))],1)],1),t._v(" "),a("ui-dialog",{attrs:{id:"ADD_EMAIL_DIALOG"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Add an E-mail Address to the list")]),t._v(" "),a("template",{slot:"content"},[a("ui-form-element",[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    E-mail Address:\n                ")]),t._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.add.email,callback:function(e){t.$set(t.add,"email",e)},expression:"add.email"}})],1),t._v(" "),a("ui-form-element",[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    Add to:\n                ")]),t._v(" "),a("template",{slot:"content"},[a("input-check",{attrs:{type:"radio",value:"list"},model:{value:t.add.type,callback:function(e){t.$set(t.add,"type",e)},expression:"add.type"}},[t._v("\n                        "+t._s(t.name)+"\n                    ")]),t._v(" "),a("input-check",{attrs:{type:"radio",value:"digest"},model:{value:t.add.type,callback:function(e){t.$set(t.add,"type",e)},expression:"add.type"}},[a("translate",{attrs:{"translate-params":{name:t.name}}},[t._v("\n                            %{name}-digest\n                        ")])],1)],1)],2)],1),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:t.addEmail},slot:"buttons"},[a("translate",[t._v("Add")])],1)],2),t._v(" "),a("ui-dialog-delete-items",{attrs:{id:"DELETE_SUBSCRIBERS_DIALOG",subject:t.$ngettext("subscriber","subscribers",t.checkedRows.list.length)},on:{"click:confirm":t.deleteSubscribers}}),t._v(" "),a("ui-dialog-delete-items",{attrs:{id:"DELETE_DIGEST_SUBSCRIBERS_DIALOG",subject:t.$ngettext("digest subscriber","digest subscribers",t.checkedRows.list.length)},on:{"click:confirm":t.deleteDigestSubscribers}})],1)},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},2276:function(t,e){}}]);