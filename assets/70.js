(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1130:function(t,e,a){"use strict";a.r(e);var r=a(2029),s=a(1522);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);var o=a(0),i=a(2330),d=a.n(i),u=Object(o.a)(s.default,r.a,r.b,!1,null,null,null);"function"==typeof d.a&&d()(u),e.default=u.exports},1521:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(a(8)),s=u(a(7)),n=u(a(3)),o=a(20),i=a(13),d=a(530);function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({},(0,i.preload)("GET_DB_USERS"),{data:function(){return{dbName:"",dbUser:"",dbPassword:""}},computed:(0,n.default)({},(0,o.mapState)({dbUsers:function(t){return t.api.GET_DB_USERS.response.map(function(t){return t.value})},validationErrors:function(t){return{dbUser:t.api.VALIDATE_DB_USERNAME.response.error,dbName:t.api.VALIDATE_DB_NAME.response.error,dbPass:t.api.VALIDATE_PASSWORD.response.error}}}),{existingUser:function(){var t=this;return!!this.dbUsers.find(function(e){return e===t.dbUser})}}),methods:{createDatabase:function(){var t=this;return(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("CREATE_DB",{name:t.dbName,user:t.dbUser,passwd:t.existingUser?"******":t.dbPassword,passwd2:t.existingUser?"******":t.dbPassword,userlist:t.existingUser?t.dbUser:"..."});case 2:e.sent&&t.$router.push({name:"user/database"});case 4:case"end":return e.stop()}},e,t)}))()},usernameValidation:function(t){return this.existingUser||(0,d.apiValidation)("VALIDATE_DB_USERNAME")(t)}}})},1522:function(t,e,a){"use strict";a.r(e);var r=a(1521),s=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);e.default=s.a},2029:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("app-page-section",[a("ui-form-element",{attrs:{group:"database",validators:{required:!0,apiValidation:"VALIDATE_DB_NAME"}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Database Name:")]),t._v(" "),a("input-text",{attrs:{slot:"content",prefix:t.$state.app.user.name+"_"},slot:"content",model:{value:t.dbName,callback:function(e){t.dbName=e},expression:"dbName"}}),t._v(" "),a("span",{attrs:{slot:"error:apiValidation"},domProps:{textContent:t._s(t.validationErrors.dbName)},slot:"error:apiValidation"})],1),t._v(" "),a("ui-form-element",{attrs:{group:"database",validators:{required:!0,usernameValidation:t.usernameValidation}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Database User:")]),t._v(" "),a("input-autocomplete",{attrs:{slot:"content",values:t.dbUsers},slot:"content",model:{value:t.dbUser,callback:function(e){t.dbUser=e},expression:"dbUser"}},[a("template",{slot:"additions:left"},[t._v("\n                    "+t._s(t.$state.app.user.name)+"_\n                ")])],2),t._v(" "),a("span",{attrs:{slot:"error:usernameValidation"},domProps:{textContent:t._s(t.validationErrors.dbUser)},slot:"error:usernameValidation"})],1),t._v(" "),t.dbUser&&!t.existingUser?a("ui-form-element",{attrs:{group:"database",validators:{required:!0,apiValidation:"VALIDATE_PASSWORD"}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Database Password:")]),t._v(" "),a("input-password",{attrs:{slot:"content",showGenerator:""},slot:"content",model:{value:t.dbPassword,callback:function(e){t.dbPassword=e},expression:"dbPassword"}}),t._v(" "),a("span",{attrs:{slot:"error:apiValidation"},domProps:{innerHTML:t._s(t.validationErrors.dbPass)},slot:"error:apiValidation"})],1):t._e()],1),t._v(" "),a("ui-button",{attrs:{slot:"footer:buttons",disabled:!t.$valid("database"),theme:"safe"},on:{click:t.createDatabase},slot:"footer:buttons"},[a("translate",[t._v("Create Database")])],1)],1)},s=[];a.d(e,"a",function(){return r}),a.d(e,"b",function(){return s})},2330:function(t,e){}}]);