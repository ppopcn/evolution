(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1072:function(t,e,a){"use strict";a.r(e);var s=a(2097),n=a(1291);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var i=a(0),u=a(2174),r=a.n(u),o=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);"function"==typeof r.a&&r()(o),e.default=o.exports},1286:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{items:{type:Array,required:!0}},computed:{rows:function(){return this.items.filter(function(t){return t.value})}},data:function(){return{columns:[{id:"label",label:this.$gettext("Setting")},{id:"value",label:this.$gettext("Usage")}]}}}},1287:function(t,e,a){"use strict";a.r(e);var s=a(1286),n=a.n(s);for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);e.default=n.a},1288:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{select:[],awstatsDir:"/awstats"}},props:{showLinks:{type:Boolean,required:!1,default:!0}},methods:{makePublic:function(){this.$actionRequest("SET_PUBLIC_STATS",{select:this.select,path:this.awstatsDir.replace("/","")},{reset:!0})}}}},1289:function(t,e,a){"use strict";a.r(e);var s=a(1288),n=a.n(s);for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);e.default=n.a},1290:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=v(a(31)),n=v(a(8)),l=v(a(1)),i=v(a(7)),u=v(a(3)),r=a(13),o=a(27),c=v(a(2176)),d=v(a(2175));function v(t){return t&&t.__esModule?t:{default:t}}e.default=(0,u.default)({},(0,r.preload)("GET_USER_STATS"),{mixins:[(0,o.$bindTab)({param:"tab",defaultTab:"webalizer"})],components:{WebalizerTable:c.default,UsageTable:d.default},data:function(){return{account:{email:"",name:""}}},computed:(0,r.mapResponse)({GET_USER_STATS:["stats","addons"]}),created:function(){this.resetAccountConfig()},methods:{resetAccountConfig:function(){this.account={name:this.stats.name,email:this.$p6e.email2unicode(this.stats.email)}},saveAccountConfig:function(){var t=this;return(0,i.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=(0,i.default)(n.default.mark(function e(a){var s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account[a]!==t.stats[a]){e.next=2;break}return e.abrupt("return",!1);case 2:return s="email"===a?t.$p6e.email2ascii(t.account[a]):t.account[a],e.abrupt("return",t.$actionRequest("SET_USER_"+a.toUpperCase(),(0,l.default)({},a[0]+"value",s)));case 4:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),e.next=3,s.default.all(["name","email"].map(a));case 3:if(!e.sent.some(function(t){return t})){e.next=8;break}return e.next=7,t.$request("GET_USER_STATS");case 7:t.resetAccountConfig();case 8:case"end":return e.stop()}},e,t)}))()}}})},1291:function(t,e,a){"use strict";a.r(e);var s=a(1290),n=a.n(s);for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);e.default=n.a},1942:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ui-table",t._b({attrs:{isCheckable:!1,isSortable:!1},scopedSlots:t._u([{key:"col:label",fn:function(e){var a=e.label,s=e.id;return[s?t._t("label:"+s,[t._v("\n            "+t._s(a)+"\n        ")]):[t._v("\n            "+t._s(a)+"\n        ")]]}},{key:"col:value",fn:function(e){var s=e.value,n=e.bytes;return[["string","number"].includes(typeof s)?[a("span",{staticClass:"txt:bold"},[n?[t._v("\n                    "+t._s(t._f("humanReadableSize")(Number(s)))+"\n                ")]:[t._v("\n                    "+t._s(s)+"\n                ")]],2)]:"boolean"==typeof s?[a("ui-badge",{attrs:{theme:s?"safe":"danger"}},[a("translate",s?[t._v("Enabled")]:[t._v("Disabled")])],1)]:Array.isArray(s)?[a("span",{staticClass:"txt:bold"},[t._v(t._s(s.join(", ")))])]:[a("ui-progress-label",{attrs:{value:s.usage,limit:s.limit}},[a("template",{slot:"value"},[n?[t._v("\n                        "+t._s(t._f("humanReadableSize")(s.usage))+"\n                    ")]:[t._v("\n                        "+t._s(s.usage)+"\n                    ")]],2),t._v(" "),s.limit!==1/0?a("template",{slot:"limit"},[n?[t._v("\n                        "+t._s(t._f("humanReadableSize")(s.limit))+"\n                    ")]:[t._v("\n                        "+t._s(s.limit)+"\n                    ")]],2):t._e()],2)]]}}])},"ui-table",{columns:t.columns,rows:t.rows},!1))},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},1944:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-api-table",t._b({on:{"action:awstats":function(e){t.$dialog("MAKE_AWSTATS_PUBLIC").open()}},scopedSlots:t._u([{key:"col:domain",fn:function(e){var s=e.domain;return[t.showLinks?a("ui-link",{attrs:{name:"user/stats/domain-statistics",params:{domain:s}}},[t._v("\n                "+t._s(t._f("p6e-unicode")(s))+"\n            ")]):a("span",[t._v(t._s(t._f("p6e-unicode")(s)))])]}},{key:"col:bandwidth",fn:function(e){var s=e.bandwidth;return[t._v("\n            "+t._s(t._f("humanReadableSize")(s.usage))+"\n            /\n            "),"shared"===s.limit?a("translate",[t._v("\n                Shared\n            ")]):s.limit===1/0?a("translate",[t._v("\n                Shared\n            ")]):a("translate",[t._v("\n                "+t._s(t._f("humanReadableSize")(s.limit))+"\n            ")])]}},{key:"col:suspended",fn:function(e){var s=e.suspended;return a("ui-badge",{attrs:{theme:s?"danger":"safe"}},[a("translate",s?[t._v("Suspended")]:[t._v("Active")])],1)}},{key:"col:logs",fn:function(e){var s=e.domain;return a("ui-actions",{attrs:{position:"left"}},[a("ui-link",{attrs:{name:"user/stats/log",params:{domain:s,type:"usage"}}},[a("translate",[t._v("View Usage Log")])],1),t._v(" "),a("ui-link",{attrs:{name:"user/stats/log",params:{domain:s,type:"error"}}},[a("translate",[t._v("View Error Log")])],1)],1)}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},"ui-api-table",{endpoint:"GET_USER_STATS",property:"domains",rowID:"domain",columns:{domain:{label:t.$gettext("Domain"),width:"30%"},bandwidth:t.$gettext("Bandwidth"),quota:{label:t.$gettext("Disk Usage"),filter:"humanReadableSize"},log_usage:{label:t.$gettext("Log Usage"),filter:"humanReadableSize"},nsubdomains:t.$gettext("Subdomains"),suspended:t.$gettext("Status"),logs:t.$gettext("Logs")},actions:{awstats:t.$gettext("Make statistics publicly viewable")}},!1)),t._v(" "),a("ui-dialog",{attrs:{id:"MAKE_AWSTATS_PUBLIC"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Make statistics publicly viewable")]),t._v(" "),a("translate",{attrs:{slot:"contentTitle","translate-n":t.select.length,"translate-plural":"Set selected domains to be publicly viewable"},slot:"contentTitle"},[t._v("\n            Set selected domain to be publicly viewable.\n        ")]),t._v(" "),a("ui-form-element",{attrs:{slot:"content"},slot:"content"},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Directory:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.awstatsDir,expression:"awstatsDir"}],attrs:{slot:"content",type:"text"},domProps:{value:t.awstatsDir},on:{input:function(e){e.target.composing||(t.awstatsDir=e.target.value)}},slot:"content"})],1),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:t.makePublic},slot:"buttons"},[a("translate",[t._v("Set")])],1)],1)],1)},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},2097:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("translate",{attrs:{slot:"page:title","translate-params":{username:t.$state.app.user.name}},slot:"page:title"},[t._v('\n        Details for user "%{username}"\n    ')]),t._v(" "),a("template",{slot:"header:buttons"},[a("ui-button",{attrs:{theme:"primary"},on:{click:function(e){t.$dialog("EDIT_ACCOUNT_CONFIG").open()}}},[a("translate",[t._v("Edit Account Configuration")])],1)],1),t._v(" "),a("app-page-section",[a("ui-tabs",{attrs:{selected:t.tab,tabs:[{id:"webalizer",label:this.$gettext("Domain Statistics")},{id:"usage",label:this.$gettext("Usage Statistics")},{id:"account",label:this.$gettext("Account Configuration")}]},on:{"update:selected":function(e){t.tab=e}}},[a("div",{attrs:{slot:"tab:webalizer"},slot:"tab:webalizer"},[a("webalizer-table",{attrs:{showLinks:t.addons}})],1),t._v(" "),a("div",{attrs:{slot:"tab:usage"},slot:"tab:usage"},[a("usage-table",{attrs:{items:[{label:t.$gettext("Bandwidth"),value:t.stats.bandwidth,id:"bandwidth",bytes:!0},{label:t.$gettext("Total Disk Usage"),value:t.stats.quota,id:"quota",bytes:!0},{label:t.$gettext("E-mail Disk Usage"),value:t.stats.email_quota,bytes:!0},{label:t.$gettext("Database Disk Usage"),value:t.stats.db_quota,bytes:!0},{label:t.$gettext("Inodes"),value:t.stats.inode.usage},{label:t.$gettext("# of Domains"),value:t.stats.vdomains},{label:t.$gettext("# of Subdomains"),value:t.stats.nsubdomains},{label:t.$gettext("POP E-mail Accounts"),value:t.stats.nemails},{label:t.$gettext("E-mail Forwarders"),value:t.stats.nemailf},{label:t.$gettext("Mailing Lists"),value:t.stats.nemailml},{label:t.$gettext("AutoResponders"),value:t.stats.nemailr},{label:t.$gettext("Sent E-mails"),value:t.stats.email_deliveries_outgoing},{label:t.$gettext("Received E-mails"),value:t.stats.email_deliveries_incoming},{label:t.$gettext("# of MySQL DBs"),value:t.stats.mysql},{label:t.$gettext("Domain Pointers"),value:t.stats.domainptr},{label:t.$gettext("Ftp Accounts"),value:t.stats.ftp}]}},[a("template",{slot:"label:bandwidth"},[a("translate",[t._v("Bandwidth")]),t._v(" "),a("ui-button-link",{attrs:{theme:"light",size:"normal",name:"user/bandwidth",params:{year:(new Date).getFullYear(),month:(new Date).getMonth()}}},[a("translate",[t._v("Details")])],1)],1),t._v(" "),a("template",{slot:"label:quota"},[a("translate",[t._v("Disk Usage")]),t._v(" "),a("ui-button-link",{attrs:{theme:"light",size:"normal",name:"user/disk-usage"}},[a("translate",[t._v("Details")])],1)],1)],2)],1),t._v(" "),a("div",{attrs:{slot:"tab:account"},slot:"tab:account"},[a("usage-table",{attrs:{items:[{label:t.$gettext("Name"),value:t.stats.name},{label:t.$gettext("E-mail"),value:t.stats.email},{label:t.$gettext("IP"),value:t.stats.ip},{label:t.$gettext("Nameserver 1"),value:t.stats.ns1},{label:t.$gettext("Nameserver 2"),value:t.stats.ns2},{label:t.$gettext("Shell Access (SSH)"),value:t.stats.ssh},{label:t.$gettext("Secure Socket Layer (SSL)"),value:t.stats.ssl},{label:t.$gettext("CGI-Bin"),value:t.stats.cgi},{label:t.$gettext("PHP"),value:t.stats.php},{label:t.$gettext("SpamAssassin"),value:t.stats.spam},{label:t.$gettext("Catch-All E-mail"),value:t.stats.catchall},{label:t.$gettext("Anonymous FTP"),value:t.stats.aftp},{label:t.$gettext("Cron Jobs"),value:t.stats.cron},{label:t.$gettext("System Info"),value:t.stats.sysinfo},{label:t.$gettext("Login Keys"),value:t.stats.login_keys},{label:t.$gettext("DNS Control"),value:t.stats.dnscontrol},{label:t.$gettext("Suspend at Limit"),value:t.stats.suspend_at_limit}]}})],1)])],1),t._v(" "),a("template",{slot:"bottom:links"},[a("ui-link",{attrs:{bullet:"",name:"user/history"}},[a("translate",[t._v("User History")])],1),t._v(" "),a("ui-link",{attrs:{bullet:"",name:"user/filemanager",query:{path:"/domains/"+t.$domain+"/logs"}}},[a("translate",[t._v("Backed up Web Logs")])],1)],1),t._v(" "),a("ui-dialog",{attrs:{id:"EDIT_ACCOUNT_CONFIG"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Edit Account Configuration")]),t._v(" "),a("template",{slot:"content"},[a("ui-form-element",{attrs:{group:"accountConfiguration",validators:{required:!0},vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Name")]),t._v(" "),a("input-text",{attrs:{slot:"content",type:"text"},slot:"content",model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}})],1),t._v(" "),a("ui-form-element",{attrs:{group:"accountConfiguration",validators:{required:!0,email:!0},vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("E-mail")]),t._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.account.email,callback:function(e){t.$set(t.account,"email",e)},expression:"account.email"}}),t._v(" "),a("translate",{attrs:{slot:"error:email"},slot:"error:email"},[t._v("Should be valid email")])],1)],1),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"accountConfiguration"},on:{click:t.saveAccountConfig},slot:"buttons"},[a("translate",[t._v("Save")])],1)],2)],2)},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},2174:function(t,e){},2175:function(t,e,a){"use strict";a.r(e);var s=a(1942),n=a(1287);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var i=a(0),u=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);e.default=u.exports},2176:function(t,e,a){"use strict";a.r(e);var s=a(1944),n=a(1289);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var i=a(0),u=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);e.default=u.exports}}]);