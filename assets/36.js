(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1096:function(e,t,n){"use strict";n.r(t);var s=n(2071),c=n(1371);for(var u in c)"default"!==u&&function(e){n.d(t,e,function(){return c[e]})}(u);var a=n(0),o=n(2223),r=n.n(o),i=Object(a.a)(c.default,s.a,s.b,!1,null,null,null);"function"==typeof r.a&&r()(i),t.default=i.exports},1370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(8)),c=o(n(7)),u=o(n(3)),a=n(13);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.default)({},(0,a.preload)("GET_FTP_ACCOUNTS"),{data:function(){return{checkedRows:[],select:""}},computed:(0,u.default)({},(0,a.mapResponse)({GET_FTP_ACCOUNTS:"accounts",GET_TOKENS:{aFTP:"USERAFTP"}}),{rows:function(){var e=this.$state.app.user.name;return this.accounts.map(function(t){return(0,u.default)({},t,{route:e===t.user?"user/password":"user/ftp-accounts/edit"})})},currentUser:function(){var e=this;return this.rows.find(function(t){return t.user===e.$state.app.user.name})},checkedAccounts:function(){return this.checkedRows.map(function(e){return e.user})},suspendActionAvailable:function(){return!!this.checkedRows.find(function(e){return!e.suspended})},unsuspendActionAvailable:function(){return!!this.checkedRows.find(function(e){return e.suspended})}}),watch:{$domain:function(){this.loadAccounts()}},methods:{suspendAccounts:function(){var e=this;return(0,c.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request("SUSPEND_FTP_ACCOUNTS",{select:e.checkedAccounts});case 2:(n=t.sent)&&"0"===n.error&&(e.$notify({theme:"safe",title:e.$ngettext("Account was successfully suspended","Accounts was successfully suspended",e.checkedAccounts.length)}),e.checkedRows=[],e.loadAccounts());case 4:case"end":return t.stop()}},t,e)}))()},unsuspendAccounts:function(){var e=this;return(0,c.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request("UNSUSPEND_FTP_ACCOUNTS",{select:e.checkedAccounts});case 2:(n=t.sent)&&"0"===n.error&&(e.$notify({theme:"safe",title:e.$ngettext("Account was successfully unsuspended","Accounts was successfully unsuspended",e.checkedAccounts.length)}),e.checkedRows=[],e.loadAccounts());case 4:case"end":return t.stop()}},t,e)}))()},deleteAccounts:function(){var e=this;return(0,c.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request("DELETE_FTP_ACCOUNTS",{select:e.checkedAccounts});case 2:(n=t.sent)&&"0"===n.error&&(e.$notify({theme:"safe",title:e.$ngettext("Account was successfully deleted","Accounts was successfully deleted",e.checkedAccounts.length)}),e.checkedRows=[],e.loadAccounts());case 4:case"end":return t.stop()}},t,e)}))()},loadAccounts:function(){this.$request("GET_FTP_ACCOUNTS")}}})},1371:function(e,t,n){"use strict";n.r(t);var s=n(1370),c=n.n(s);for(var u in s)"default"!==u&&function(e){n.d(t,e,function(){return s[e]})}(u);t.default=c.a},2071:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[n("translate",{attrs:{slot:"page:title","translate-params":{domain:e.$domainUnicode}},slot:"page:title"},[e._v("\n        FTP Accounts for %{ domain }\n    ")]),e._v(" "),n("ui-button-link",{attrs:{slot:"header:buttons",theme:"primary",name:"user/ftp-accounts/create"},slot:"header:buttons"},[n("translate",[e._v("Create FTP Account")])],1),e._v(" "),e.aFTP?n("ui-link",{attrs:{slot:"bottom:links",name:"user/ftp-settings",bullet:""},slot:"bottom:links"},[n("translate",[e._v("Anonymous FTP Settings")])],1):e._e(),e._v(" "),n("app-page-section",[n("ui-table",e._b({attrs:{checkedRows:e.checkedRows},on:{"update:checkedRows":function(t){e.checkedRows=t}},scopedSlots:e._u([{key:"col:user",fn:function(t){var s=t.user,c=t.login,u=t.route;return n("ui-link",{attrs:{name:u,params:{user:s}}},[e._v("\n                "+e._s(c)+"\n            ")])}},{key:"col:suspended",fn:function(t){var s=t.suspended;return n("ui-badge",{attrs:{theme:s?"danger":"safe"}},[n("translate",s?[e._v("Yes")]:[e._v("No")])],1)}}])},"ui-table",{rows:e.rows,columns:[{id:"user",label:this.$gettext("Account"),width:"20%"},{id:"path",label:this.$gettext("Server Path"),width:"60%"},{id:"suspended",label:this.$gettext("Suspended"),width:"10%"}],isSortable:!0,notCheckable:[e.currentUser],disablePagination:!0},!1),[n("template",{slot:"table:actions"},[e.suspendActionAvailable?n("ui-table-action",{on:{click:e.suspendAccounts}},[n("translate",[e._v("Suspend")])],1):e._e(),e._v(" "),e.unsuspendActionAvailable?n("ui-table-action",{on:{click:e.unsuspendAccounts}},[n("translate",[e._v("Unsuspend")])],1):e._e(),e._v(" "),n("ui-table-action",{on:{click:function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[n("translate",[e._v("Delete")])],1)],1)],2)],1),e._v(" "),n("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("account","accounts",e.checkedRows.length)},on:{"click:confirm":e.deleteAccounts}})],1)},c=[];n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c})},2223:function(e,t){}}]);