(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1094:function(t,e,o){"use strict";o.r(e);var s=o(2073),n=o(1367);for(var r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);var a=o(0),i=o(2221),u=o.n(i),c=Object(a.a)(n.default,s.a,s.b,!1,null,null,null);"function"==typeof u.a&&u()(c),e.default=c.exports},1366:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=l(o(3)),n=l(o(8)),r=l(o(28)),a=l(o(7)),i=o(20),u=o(13),c=o(19);function l(t){return t&&t.__esModule?t:{default:t}}var d,p=(d=(0,a.default)(n.default.mark(function t(e,o,s){var a,i,l,d;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.params.user.split("@"),i=(0,r.default)(a,2),l=i[0],d=i[1],l===(0,c.State)("app.user.name")&&s("/user/password"),t.next=5,(0,u.request)("GET_FTP_ACCOUNT",{user:l,domain:d});case 5:e.params.account=t.sent,s(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s(t.t0);case 12:case"end":return t.stop()}},t,void 0,[[0,9]])})),function(t,e,o){return d.apply(this,arguments)});e.default={beforeRouteEnter:p,beforeRouteUpdate:p,props:{user:{type:String,required:!0},account:{type:Object,required:!0}},data:function(){return{password:"",type:this.account.type,customDir:this.account.path}},computed:(0,s.default)({},(0,i.mapState)({validation:function(t){return{password:t.api.VALIDATE_PASSWORD.response.error}}}),{ftpOptions:function(){return[{id:"domain",label:this.$gettext("Domain"),desc:this.$gettext("Ftp account with the root directory in the domains home directory (one up from the public_html)")},{id:"ftp",label:this.$gettext("Ftp"),desc:this.$gettext("Ftp account with the root directory in the domains public_ftp directory")},{id:"user",label:this.$gettext("User"),desc:this.$gettext("Ftp account with the root directory as the users name in the public_html directory")},{id:"custom",label:this.$gettext("Custom"),desc:this.$gettext("Please provide custom directory in the field below")}]}}),methods:{modifyFtpAccount:function(){var t=this;return(0,a.default)(n.default.mark(function e(){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$request("UPDATE_FTP_ACCOUNT",{action:"modify",user:t.user,domain:t.$domain,passwd:t.password,passwd2:t.password,type:t.type,custom_val:t.customDir});case 2:(o=e.sent)&&"0"===o.error&&(t.$notify({theme:"safe",title:t.$gettext("Account modified")}),t.$router.push({name:"user/ftp-accounts"}));case 4:case"end":return e.stop()}},e,t)}))()},copyPassword:function(){var t=this,e=document.createElement("textarea");e.style.position="fixed",e.style.bottom=0,e.style.right=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=this.password,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy")&&this.$nextTick(function(){t.$notifications.success({title:"Password copied!"}),document.body.removeChild(e)})}}}},1367:function(t,e,o){"use strict";o.r(e);var s=o(1366),n=o.n(s);for(var r in s)"default"!==r&&function(t){o.d(e,t,function(){return s[t]})}(r);e.default=n.a},2073:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-page",[o("ui-button",{attrs:{slot:"footer:buttons",theme:"safe",validateGroup:"editFtpAccount"},on:{click:t.modifyFtpAccount},slot:"footer:buttons"},[o("translate",[t._v("Modify")])],1),t._v(" "),o("app-page-section",[o("ui-form-element",[o("translate",{attrs:{slot:"title"},slot:"title"},[t._v("FTP Username:")]),t._v(" "),o("input-text",{attrs:{slot:"content",value:t.account.fulluser,disabled:""},slot:"content"})],1),t._v(" "),o("ui-form-element",{attrs:{group:"editFtpAccount",validators:{apiValidation:"VALIDATE_USERNAME"}}},[o("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Enter Password\n            ")]),t._v(" "),o("ui-input-group",{attrs:{slot:"content"},slot:"content"},[o("input-password",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}],attrs:{slot:"input",showGenerator:""},slot:"input",model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),t.password?o("ui-button",{attrs:{slot:"additions:right",theme:"light"},on:{click:t.copyPassword},slot:"additions:right"},[o("translate",[t._v("Copy Password")])],1):t._e()],1),t._v(" "),t.validation.password?o("span",{attrs:{slot:"error:apiValidation"},domProps:{innerHTML:t._s(t.validation.password)},slot:"error:apiValidation"}):t._e()],1),t._v(" "),o("ui-tabs",{attrs:{radio:"",tabs:t.ftpOptions,selected:t.type},on:{"update:selected":function(e){t.type=e}}},[o("ui-form-element",{attrs:{slot:"tab:custom"},slot:"tab:custom"},[o("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    Directory\n                ")]),t._v(" "),o("input-text",{attrs:{slot:"content",type:"text"},slot:"content",model:{value:t.customDir,callback:function(e){t.customDir=e},expression:"customDir"}})],1)],1)],1)],1)},n=[];o.d(e,"a",function(){return s}),o.d(e,"b",function(){return n})},2221:function(t,e){}}]);