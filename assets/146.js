(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{1206:function(e,t,n){"use strict";n.r(t);var a=n(2142),s=n(1872);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);n(2588);var r=n(0),i=n(2586),l=n.n(i),c=Object(r.a)(s.default,a.a,a.b,!1,null,"763147c8",null);"function"==typeof l.a&&l()(c),t.default=c.exports},1870:function(e,t,n){var a=n(2587);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("3ec33e80",a,!0,{})},1871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(10)),s=p(n(16)),o=p(n(8)),r=p(n(7)),i=p(n(3)),l=n(13),c=n(27),u=n(20);function p(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({},(0,l.preload)("GET_ADMIN_BACKUP_RESTORE_OPTIONS"),{mixins:[(0,c.$bindTab)({defaultTab:"where",param:"step"})],data:function(){return{where:"local",whereData:{local_path:"",ftp_ip:"",ftp_username:"",ftp_password:"",ftp_path:"",ftp_port:"",ftp_secure:""},ip_choice:"file",ipSelectData:{ip:""},checkedRows:[]}},computed:(0,i.default)({},(0,u.mapState)({options:function(e){return e.api.GET_ADMIN_BACKUP_RESTORE_OPTIONS.response},files:function(e){return e.api.GET_ADMIN_RESTORE_FILES.isDone?e.api.GET_ADMIN_RESTORE_FILES.response:e.api.GET_ADMIN_BACKUP_RESTORE_OPTIONS.response.filesData}}),{checkedFiles:function(){return this.checkedRows.map(function(e){return e.file})},requestData:function(){return(0,i.default)({where:this.where},this.whereData,{ip_choice:this.ip_choice},this.ipSelectData,{select:this.checkedFiles})}}),methods:{reloadFiles:function(){this.$request("GET_ADMIN_RESTORE_FILES",(0,i.default)({where:this.where},this.whereData))},restoreBackup:function(){var e=this;return(0,r.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$actionRequest("RESTORE_ADMIN_BACKUP",e.requestData);case 2:t.sent&&e.$router.push({name:"admin/backups"});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){this.where=this.options.where,(0,s.default)(this.whereData,this.options.whereData),this.ipSelectData.ip=(0,a.default)(this.options.ips).shift()}})},1872:function(e,t,n){"use strict";n.r(t);var a=n(1871),s=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=s.a},2142:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",{attrs:{id:"restore-admin-backup"}},[n("app-page-section",[n("ui-steps",{attrs:{steps:[{id:"where",label:e.$gettext("Step 1: From Where"),desc:e.$gettext("Select directory for restore.")},{id:"ip_select",label:e.$gettext("Step 2: Select IP"),desc:e.$gettext("Select IP address used for restore.")},{id:"files",label:e.$gettext("Step 3: Select File(s)"),desc:e.$gettext("Select backup files to restore.")}],current:e.step},on:{"update:current":function(t){e.step=t}}},[n("div",{attrs:{slot:"step:where"},slot:"step:where"},[n("ui-form-element",{class:{dimmed:"local"!==e.where}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Local")]),e._v(" "),n("template",{slot:"content"},[n("input-check",{attrs:{type:"radio",value:"local"},model:{value:e.where,callback:function(t){e.where=t},expression:"where"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.whereData.local_path,expression:"whereData.local_path"}],attrs:{disabled:"local"!==e.where,type:"text"},domProps:{value:e.whereData.local_path},on:{input:function(t){t.target.composing||e.$set(e.whereData,"local_path",t.target.value)}}})],1)],2),e._v(" "),n("ui-form-element",{class:{dimmed:"ftp"!==e.where}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("FTP")]),e._v(" "),n("input-check",{attrs:{slot:"content",type:"radio",value:"ftp"},slot:"content",model:{value:e.where,callback:function(t){e.where=t},expression:"where"}})],1),e._v(" "),"ftp"===e.where?n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("FTP Settings")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("IP")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.whereData.ftp_ip,expression:"whereData.ftp_ip"}],attrs:{type:"text"},domProps:{value:e.whereData.ftp_ip},on:{input:function(t){t.target.composing||e.$set(e.whereData,"ftp_ip",t.target.value)}}})])],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Username")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.whereData.ftp_username,expression:"whereData.ftp_username"}],attrs:{type:"text"},domProps:{value:e.whereData.ftp_username},on:{input:function(t){t.target.composing||e.$set(e.whereData,"ftp_username",t.target.value)}}})])],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Password")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input-password",{model:{value:e.whereData.ftp_password,callback:function(t){e.$set(e.whereData,"ftp_password",t)},expression:"whereData.ftp_password"}})],1)],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Remote Path")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.whereData.ftp_path,expression:"whereData.ftp_path"}],attrs:{type:"text"},domProps:{value:e.whereData.ftp_path},on:{input:function(t){t.target.composing||e.$set(e.whereData,"ftp_path",t.target.value)}}})])],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Port")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.whereData.ftp_port,expression:"whereData.ftp_port"}],attrs:{type:"text"},domProps:{value:e.whereData.ftp_port},on:{input:function(t){t.target.composing||e.$set(e.whereData,"ftp_port",t.target.value)}}})])],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Secure FTP")]),e._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.whereData.ftp_secure,callback:function(t){e.$set(e.whereData,"ftp_secure",t)},expression:"whereData.ftp_secure"}})],1)],1)],1):e._e(),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end"},expression:"{ main: 'end' }"},{name:"margin",rawName:"v-margin",value:"1rem",expression:"'1rem'"}]},[n("ui-button",{attrs:{theme:"primary",size:"normal"},on:{click:e.reloadFiles}},[n("translate",[e._v("Reload Files")])],1)],1)],1),e._v(" "),n("div",{attrs:{slot:"step:ip_select"},slot:"step:ip_select"},[n("ui-form-element",{class:{dimmed:"file"!==e.ip_choice}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Use the IP stored in the backup")]),e._v(" "),n("input-check",{attrs:{slot:"content",type:"radio",value:"file"},slot:"content",model:{value:e.ip_choice,callback:function(t){e.ip_choice=t},expression:"ip_choice"}})],1),e._v(" "),n("ui-form-element",{class:{dimmed:"select"!==e.ip_choice}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Use the IP from the list")]),e._v(" "),n("template",{slot:"content"},[n("input-check",{attrs:{type:"radio",value:"select"},model:{value:e.ip_choice,callback:function(t){e.ip_choice=t},expression:"ip_choice"}}),e._v(" "),n("input-usual-select",{attrs:{disabled:"select"!==e.ip_choice,options:e.options.ips},model:{value:e.ipSelectData.ip,callback:function(t){e.$set(e.ipSelectData,"ip",t)},expression:"ipSelectData.ip"}})],1)],2),e._v(" "),n("ul",[n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Note that you must set the IP to be shared if you want to add multiple users to it. If you select a non-shared IP, you can only restore 1 user to it.\n                    ")]),e._v(" "),n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        If the user already exists, this setting will have no effect.\n                    ")]),e._v(" "),n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        When restoring a Reseller or Admin, if you select an IP from the list, that Reseller will only receive the single IP.\n                        You would need to add extra IPs to that accounts IP list after he's created.\n                    ")]),e._v(" "),n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        If using the IPs from within the backup, any IPs that don't exist on this system will not be included. If there no IPs to be used, a Reseller or Admin will be restored to the server IP.\n                    ")])])],1),e._v(" "),n("div",{attrs:{slot:"step:files"},slot:"step:files"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        Location\n                    ")]),e._v(" "),n("strong",{attrs:{slot:"content"},slot:"content"},[e._v("\n                        "+e._s(e.files.location)+"\n                    ")])],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Files")]),e._v(" "),n("ui-table",e._b({attrs:{checkedRows:e.checkedRows,disablePagination:""},on:{"update:checkedRows":function(t){e.checkedRows=t}},scopedSlots:e._u([{key:"col:file",fn:function(t){var a=t.file;return[n("span",{class:{"c:txt:danger":e.files.issues&&e.files.issues[a]}},[e._v("\n                                "+e._s(a)+"\n                                "),e.files.issues&&e.files.issues[a]?n("ui-tooltip",[n("p",{attrs:{theme:"danger"},domProps:{innerHTML:e._s(e.files.issues[a]||"")}})]):e._e()],1)]}}])},"ui-table",{slot:"content",rows:e.files.list,columns:[{id:"file",label:e.$gettext("Files")}]},!1))],1)],1)])],1),e._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:e.restoreBackup},slot:"footer:buttons"},[n("translate",[e._v("Restore")])],1)],1)},s=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s})},2586:function(e,t){},2587:function(e,t,n){(e.exports=n(6)(!0)).push([e.i,"#restore-admin-backup .dimmed[data-v-763147c8]{opacity:.7}#restore-admin-backup .ui-steps-content>div>.formElement[data-v-763147c8]{margin-left:0!important}#restore-admin-backup .formElement .formElement[data-v-763147c8]:last-child{border-bottom-width:0}#restore-admin-backup .select[data-v-763147c8],#restore-admin-backup input[type=text][data-v-763147c8]{width:240px}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/pages/admin/backups/restore.vue"],names:[],mappings:"AAgPA,+CACc,UAAW,CADzB,0EAGQ,uBAA4B,CAHpC,4EAMQ,qBAAwB,CANhC,uGASQ,WAAY,CACf",file:"restore.vue?vue&type=style&index=0&id=763147c8&lang=scss&scoped=true",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#restore-admin-backup {\n    .dimmed { opacity: .7; }\n    .ui-steps-content > div > .formElement {\n        margin-left: 0rem !important;\n    }\n    .formElement .formElement:last-child {\n        border-bottom-width: 0px;\n    }\n    input[type="text"], .select {\n        width: 240px;\n    }\n}\n'],sourceRoot:""}])},2588:function(e,t,n){"use strict";var a=n(1870);n.n(a).a}}]);