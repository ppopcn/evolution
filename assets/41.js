(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1101:function(t,e,n){"use strict";n.r(e);var a=n(2066),i=n(1424);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var o=n(0),r=n(2266),l=n.n(r),c=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);"function"==typeof l.a&&l()(c),e.default=c.exports},1423:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(n(8)),i=d(n(7)),s=d(n(1)),o=d(n(16)),r=d(n(3)),l=n(13),c=d(n(519)),u=d(n(1888));function d(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)({components:{"input-date":u.default}},(0,l.preload)("GET_EMAIL_VACATION_MODIFY"),{props:{user:String},computed:(0,l.mapResponse)({GET_EMAIL_VACATION_MODIFY:"apiData"}),data:function(){return{text:"",start:new Date,starttime:"",end:new Date,endtime:"",subjectPrefix:"",contentType:"",encoding:"",onceSelect:""}},created:function(){var t=this;(0,o.default)(this.$data,{text:this.apiData.text,start:this.apiData.start.date,end:this.apiData.end.date,starttime:this.apiData.start.time.value,endtime:this.apiData.end.time.value}),this.apiData.headers&&this.apiData.headers.custom_reply_headers&&(this.contentType=this.apiData.headers.reply_content_types.value,this.encoding=this.apiData.headers.reply_encodings.value,this.onceSelect=this.apiData.headers.reply_once_select.value,this.subjectPrefix=this.apiData.headers.subject_prefix),this.$watch("start",function(e){e>t.end&&(t.end=e)});var e=function(t,e){var n=function(t){return{morning:1,afternoon:2,evening:3}[t]};return n(t)>n(e)};this.$watch("starttime",function(n){t.start.getTime()===t.end.getTime()&&e(n,t.endtime)&&(t.endtime=n)}),this.$watch("endtime",function(n){t.start.getTime()===t.end.getTime()&&e(t.starttime,n)&&(t.starttime=n)})},methods:{toAPIDate:function(t){var e,n=this[t];return e={},(0,s.default)(e,t+"time",this[t+"time"]),(0,s.default)(e,t+"day",(0,c.default)(n,"DD")),(0,s.default)(e,t+"month",(0,c.default)(n,"MM")),(0,s.default)(e,t+"year",(0,c.default)(n,"YYYY")),e},requestData:function(){var t=(0,r.default)({user:this.user,text:this.text},this.toAPIDate("start"),this.toAPIDate("end"));return this.apiData.headers&&this.apiData.headers.custom_reply_headers&&(t.subject=this.subjectPrefix,t.reply_encoding=this.encoding,t.reply_content_type=this.contentType,t.reply_once_time=this.onceSelect),t},modifyVacation:function(){var t=this;return(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$actionRequest("MODIFY_EMAIL_VACATION",t.requestData())&&(t.$request("GET_EMAIL_VACATIONS"),t.$router.push({name:"user/email/vacations"}));case 2:case"end":return e.stop()}},e,t)}))()}}})},1424:function(t,e,n){"use strict";n.r(e);var a=n(1423),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);e.default=i.a},2066:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("app-page-section",[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Vacation Account:")]),t._v(" "),n("input-text",{attrs:{slot:"content",disabled:"",value:t.user+"@"+t.$domainUnicode},slot:"content"})],1),t._v(" "),t.contentType?[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Subject Prefix")]),t._v(" "),n("input-text",{attrs:{slot:"content",suffix:t.$gettext(": original subject")},slot:"content",model:{value:t.subjectPrefix,callback:function(e){t.subjectPrefix=e},expression:"subjectPrefix"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Reply Encoding")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.apiData.headers.reply_encodings.options},slot:"content",model:{value:t.encoding,callback:function(e){t.encoding=e},expression:"encoding"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Content-Type")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.apiData.headers.reply_content_types.options},slot:"content",model:{value:t.contentType,callback:function(e){t.contentType=e},expression:"contentType"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Reply Frequency")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.apiData.headers.reply_once_select.options},slot:"content",model:{value:t.onceSelect,callback:function(e){t.onceSelect=e},expression:"onceSelect"}})],1)]:t._e(),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Vacation Start")]),t._v(" "),n("input-date",{attrs:{slot:"content",min:new Date},slot:"content",model:{value:t.start,callback:function(e){t.start=e},expression:"start"}},[n("input-usual-select",{attrs:{slot:"additions:left",options:t.apiData.start.time.options,novalidate:"",width:"20rem"},slot:"additions:left",model:{value:t.starttime,callback:function(e){t.starttime=e},expression:"starttime"}})],1)],1),t._v(" "),n("ui-form-element",{attrs:{group:"vacation"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Vacation End")]),t._v(" "),n("input-date",{attrs:{slot:"content",min:t.start},slot:"content",model:{value:t.end,callback:function(e){t.end=e},expression:"end"}},[n("input-usual-select",{attrs:{slot:"additions:left",options:t.apiData.end.time.options,novalidate:"",width:"20rem"},slot:"additions:left",model:{value:t.endtime,callback:function(e){t.endtime=e},expression:"endtime"}})],1)],1),t._v(" "),n("ui-form-element",{attrs:{group:"vacation",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Vacation Message:")]),t._v(" "),n("input-textarea",{attrs:{slot:"content"},slot:"content",model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Current Server Time:")]),t._v(" "),n("template",{slot:"content"},[t._v("\n                "+t._s(t.apiData.servertime)+"\n            ")])],2)],2),t._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"primary",disabled:!t.$valid("vacation")},on:{click:t.modifyVacation},slot:"footer:buttons"},[n("translate",[t._v("Modify")])],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},2266:function(t,e){}}]);