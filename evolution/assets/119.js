(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{1179:function(t,a,e){"use strict";e.r(a);var n=e(2120),l=e(1767);for(var i in l)"default"!==i&&function(t){e.d(a,t,function(){return l[t]})}(i);var r=e(0),o=e(2513),u=e.n(o),s=Object(r.a)(l.default,n.a,n.b,!1,null,null,null);"function"==typeof u.a&&u()(s),a.default=s.exports},1766:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=s(e(1)),l=s(e(8)),i=s(e(7)),r=s(e(3)),o=e(13),u=e(461);function s(t){return t&&t.__esModule?t:{default:t}}a.default=(0,r.default)({},(0,o.preload)("GET_PLUGINS_LIST"),{computed:(0,r.default)({},(0,o.mapResponse)({GET_PLUGINS_LIST:"plugins"})),data:function(){return{addPluginData:{method:"url",url:"",file:null,passwd:"",install:!0},currentActionData:{action:"",id:""}}},methods:{getPluginName:function(t){var a=this.plugins.find(function(a){return a.id===t});return a?a.name:""},addPlugin:function(){var t=this;return(0,i.default)(l.default.mark(function a(){var e;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e={url:"INSTALL_PLUGIN",file:"UPLOAD_PLUGIN"}[t.addPluginData.method],a.next=3,t.$actionRequest(e,t.addPluginData);case 3:a.sent&&t.$request("GET_PLUGINS_LIST");case 5:case"end":return a.stop()}},a,t)}))()},pluginAction:function(t,a){var e=this;return(0,i.default)(l.default.mark(function n(){return l.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e.currentActionData={action:t,id:a},e.$dialog("CONFIRMATION_DIALOG").open();case 2:case"end":return n.stop()}},n,e)}))()},doAction:function(){var t=this;return(0,i.default)(l.default.mark(function a(){var e,i,r,o;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.currentActionData,r=i.action,o=i.id,a.next=3,t.$actionRequest("DO_PLUGIN_ACTION",(e={},(0,n.default)(e,r,!0),(0,n.default)(e,"select",[o]),(0,n.default)(e,"passwd",t.addPluginData.passwd),e));case 3:a.sent&&((0,u.loadPlugins)(),t.currentActionData={id:"",action:""},t.$request("GET_PLUGINS_LIST"));case 5:case"end":return a.stop()}},a,t)}))()}}})},1767:function(t,a,e){"use strict";e.r(a);var n=e(1766),l=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,function(){return n[t]})}(i);a.default=l.a},2120:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("app-page",[e("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(a){t.$dialog("ADD_PLUGIN_DIALOG").open()}},slot:"header:buttons"},[e("translate",[t._v("Add")])],1),t._v(" "),e("app-page-section",[e("ui-table",{attrs:{isCheckable:!1,rows:t.plugins,columns:[{id:"name",label:t.$gettext("Plugin")},{id:"version",label:t.$gettext("Version")},{id:"available_version",label:t.$gettext("Available Version")},{id:"active",label:t.$gettext("Active")},{id:"can_update",label:t.$gettext("Can Update")},{id:"installed",label:t.$gettext("Installed")},{id:"author",label:t.$gettext("Author")},{id:"actions"}],disablePagination:""},scopedSlots:t._u([{key:"col:name",fn:function(a){var n=a.name,l=a.id;return e("ui-grid",{attrs:{cross:"center"}},[e("span",{domProps:{textContent:t._s(n||l)}}),t._v(" "),n?t._e():e("ui-tooltip",{attrs:{theme:"danger"}},[e("translate",[t._v("Corrupted Plugin")])],1)],1)}},{key:"col:active",fn:function(a){var n=a.active;return[e("ui-badge",{attrs:{theme:n?"safe":"danger",size:"small"}},[e("translate",n?[t._v("Yes")]:[t._v("No")])],1)]}},{key:"col:can_update",fn:function(a){var n=a.available_version;return[e("ui-badge",{attrs:{theme:n?"safe":"danger",size:"small"}},[e("translate",n?[t._v("Yes")]:[t._v("No")])],1)]}},{key:"col:installed",fn:function(a){var n=a.installed;return[e("ui-badge",{attrs:{theme:n?"safe":"danger",size:"small"}},[e("translate",n?[t._v("Yes")]:[t._v("No")])],1)]}},{key:"col:actions",fn:function(a){var n=a.name,l=a.id,i=a.active,r=a.available_version,o=a.installed;return[e("ui-actions",{attrs:{position:"left"}},[o?[i?e("ui-link",{on:{click:function(a){t.pluginAction("deactivate",l)}}},[e("translate",[t._v("Deactivate")])],1):e("ui-link",{on:{click:function(a){t.pluginAction("activate",l)}}},[e("translate",[t._v("Activate")])],1)]:t._e(),t._v(" "),r?e("ui-link",{on:{click:function(a){t.pluginAction("update",l)}}},[e("translate",[t._v("Update")])],1):t._e(),t._v(" "),!o&&n?e("ui-link",{on:{click:function(a){t.pluginAction("install",l)}}},[e("translate",[t._v("Install")])],1):e("ui-link",{on:{click:function(a){t.pluginAction("uninstall",l)}}},[e("translate",[t._v("Un-Install")])],1),t._v(" "),e("ui-link",{on:{click:function(a){t.pluginAction("delete",l)}}},[e("translate",[t._v("Delete")])],1)],2)]}}])})],1),t._v(" "),e("ui-dialog",{attrs:{id:"ADD_PLUGIN_DIALOG"}},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Add Plugin")]),t._v(" "),e("div",{attrs:{slot:"content"},slot:"content"},[e("ui-form-element",[e("template",{slot:"content"},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Upload Method:")]),t._v(" "),e("input-check",{attrs:{type:"radio",value:"url"},model:{value:t.addPluginData.method,callback:function(a){t.$set(t.addPluginData,"method",a)},expression:"addPluginData.method"}},[e("translate",[t._v("URL")])],1),t._v(" "),e("input-check",{attrs:{type:"radio",value:"file"},model:{value:t.addPluginData.method,callback:function(a){t.$set(t.addPluginData,"method",a)},expression:"addPluginData.method"}},[e("translate",[t._v("File")])],1)],1)],2),t._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},["url"===t.addPluginData.method?e("ui-form-element",{key:"url",attrs:{vertical:""}},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("URL")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addPluginData.url,expression:"addPluginData.url"}],attrs:{slot:"content",type:"text"},domProps:{value:t.addPluginData.url},on:{input:function(a){a.target.composing||t.$set(t.addPluginData,"url",a.target.value)}},slot:"content"})],1):e("ui-form-element",{key:"file",attrs:{vertical:""}},[e("translate",{attrs:{slot:"title",vertical:""},slot:"title"},[t._v("File")]),t._v(" "),e("input-dropzone",{attrs:{slot:"content",accept:[".tar.gz"]},slot:"content",model:{value:t.addPluginData.file,callback:function(a){t.$set(t.addPluginData,"file",a)},expression:"addPluginData.file"}})],1)],1),t._v(" "),e("ui-form-element",{attrs:{vertical:""}},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Password")]),t._v(" "),e("input-password",{attrs:{slot:"content"},slot:"content",model:{value:t.addPluginData.passwd,callback:function(a){t.$set(t.addPluginData,"passwd",a)},expression:"addPluginData.passwd"}})],1),t._v(" "),e("ui-form-element",[e("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.addPluginData.install,callback:function(a){t.$set(t.addPluginData,"install",a)},expression:"addPluginData.install"}},[e("translate",[t._v("Install after upload")])],1)],1)],1),t._v(" "),e("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:t.addPlugin},slot:"buttons"},["url"===t.addPluginData.method?e("translate",[t._v("\n                Install\n            ")]):e("translate",[t._v("\n                Upload\n            ")])],1)],1),t._v(" "),e("ui-dialog-confirm",{attrs:{id:"CONFIRMATION_DIALOG"},on:{"click:confirm":t.doAction}},["deactivate"===t.currentActionData.action?e("translate",{attrs:{"translate-params":{name:t.getPluginName(t.currentActionData.id)}}},[t._v("\n            Are you sure you want to deactivate “%{ name }” plugin?\n        ")]):"activate"===t.currentActionData.action?e("translate",{attrs:{"translate-params":{name:t.getPluginName(t.currentActionData.id)}}},[t._v("\n            Are you sure you want to activate “%{ name }” plugin?\n        ")]):"update"===t.currentActionData.action?e("translate",{attrs:{"translate-params":{name:t.getPluginName(t.currentActionData.id)}}},[t._v("\n            Are you sure you want to update “%{ name }” plugin?\n        ")]):"install"===t.currentActionData.action?e("translate",{attrs:{"translate-params":{name:t.getPluginName(t.currentActionData.id)}}},[t._v("\n            Are you sure you want to install “%{ name }” plugin?\n        ")]):"uninstall"===t.currentActionData.action?e("translate",{attrs:{"translate-params":{name:t.getPluginName(t.currentActionData.id)}}},[t._v("\n            Are you sure you want to uninstall “%{ name }” plugin?\n        ")]):e("translate",{attrs:{"translate-params":{name:t.getPluginName(t.currentActionData.id)}}},[t._v("\n            Are you sure you want to delete “%{ name }” plugin?\n        ")]),t._v(" "),e("ui-form-element",{attrs:{vertical:""}},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Password")]),t._v(" "),e("input-password",{attrs:{slot:"content"},slot:"content",model:{value:t.addPluginData.passwd,callback:function(a){t.$set(t.addPluginData,"passwd",a)},expression:"addPluginData.passwd"}})],1)],1)],1)},l=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return l})},2513:function(t,a){}}]);