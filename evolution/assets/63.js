(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1123:function(t,e,n){"use strict";n.r(e);var a=n(2039),o=n(1493);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var r=n(0),s=n(2310),u=n.n(s),l=Object(r.a)(o.default,a.a,a.b,!1,null,null,null);"function"==typeof u.a&&u()(l),e.default=l.exports},1490:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(n(8)),o=u(n(7)),i=u(n(1)),r=u(n(3)),s=n(13);function u(t){return t&&t.__esModule?t:{default:t}}e.default={computed:(0,s.mapTokens)({domains:function(t){var e=this,n=t.DOMAIN_LIST;return n.reduce(function(t,n){return(0,r.default)({},t,(0,i.default)({},n,e.$p6e.toU(n)))},{})}}),data:function(){return{newDomain:"",oldDomain:""}},methods:{renameDomain:function(){var t=this;return(0,o.default)(a.default.mark(function e(){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.$p6e.toA(t.newDomain))!==t.newDomain&&t.$notifications.info({title:t.$gettext("Domain name punycoded"),content:t.$gettext("Domain name has been automatically converted to punycode format. Punycode is used to encode internationalized domain names (IDN) by converting Unicode characters to ASCII.")}),e.next=4,t.$actionRequest("RENAME_DOMAIN",{new_domain:n,old_domain:t.oldDomain});case 4:t.$request("GET_TOKENS"),t.$emit("rename"),t.$reset();case 7:case"end":return e.stop()}},e,t)}))()}}}},1491:function(t,e,n){"use strict";n.r(e);var a=n(1490),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e.default=o.a},1492:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(n(8)),o=u(n(7)),i=u(n(3)),r=n(13),s=u(n(2311));function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)({components:{RenameDomainDialog:s.default}},(0,r.preload)("GET_ADDITIONAL_DOMAINS"),{data:function(){return{checkedRows:[]}},computed:(0,i.default)({},(0,r.mapResponse)({GET_ADDITIONAL_DOMAINS:"rows"}),{checkedDomains:function(){return this.checkedRows.map(function(t){return t.domain})}}),methods:{loadDomains:function(){this.$request("GET_ADDITIONAL_DOMAINS"),this.$reset()},setCheckedAsDefault:function(){var t=this;return(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("SET_DOMAIN_AS_DEFAULT",{select:t.checkedDomains},{reset:!0});case 2:e.sent&&t.loadDomains();case 4:case"end":return e.stop()}},e,t)}))()},changeDomainStatus:function(){var t=this;return(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("CHANGE_DOMAIN_STATUS",{select:t.checkedDomains,reason:"Other"},{reset:!0});case 2:e.sent&&t.loadDomains();case 4:case"end":return e.stop()}},e,t)}))()},deleteDomains:function(){var t=this;return(0,o.default)(a.default.mark(function e(){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rows.length===t.checkedRows.length,e.next=3,t.$request("DELETE_DOMAIN",{select:t.checkedDomains},{reset:!0});case 3:e.sent&&(n&&(t.$notifications.info({title:t.$gettext("No default domain"),content:t.$gettext("You deleted all of your domains. You should create one for full functionality.")}),t.$request("GET_TOKENS"),t.$router.push({name:"user/domains/add"})),t.loadDomains());case 5:case"end":return e.stop()}},e,t)}))()}}})},1493:function(t,e,n){"use strict";n.r(e);var a=n(1492),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e.default=o.a},1923:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"RENAME_DOMAIN_DIALOG"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Rename Domain")]),t._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{vertical:"",group:"renameDomain",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Old Domain\n            ")]),t._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                Select the domain to change and enter it's new value\n            ")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.domains},slot:"content",model:{value:t.oldDomain,callback:function(e){t.oldDomain=e},expression:"oldDomain"}})],1),t._v(" "),n("ui-form-element",{attrs:{validators:{required:!0,domain:!0},group:"renameDomain",vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("New Domain")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.newDomain,callback:function(e){t.newDomain=e},expression:"newDomain"}}),t._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[t._v("Should be valid domain name")])],1)],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",validateGroup:"renameDomain",theme:"primary"},on:{click:t.renameDomain},slot:"buttons"},[n("translate",[t._v("Rename")])],1)],2)},o=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o})},2039:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("template",{slot:"header:buttons"},[n("ui-button",{attrs:{theme:"primary"},on:{click:function(e){t.$dialog("RENAME_DOMAIN_DIALOG").open()}}},[n("translate",[t._v("Rename domain")])],1),t._v(" "),n("ui-button-link",{attrs:{theme:"safe",name:"user/domains/add"}},[n("translate",[t._v("Add New")])],1)],1),t._v(" "),n("app-page-section",[n("ui-table",t._b({attrs:{rows:t.rows,columns:[{id:"domain",label:t.$gettext("Domain")},{id:"bandwidth",label:t.$gettext("Bandwidth")},{id:"quota",label:t.$gettext("Disk Usage")},{id:"subdomain",label:t.$gettext("Subdomains")}],checkedRows:t.checkedRows,isSortable:"",disablePagination:""},on:{"update:checkedRows":function(e){t.checkedRows=e}},scopedSlots:t._u([{key:"col:domain",fn:function(e){var a=e.domain,o=e.defaultdomain,i=e.active;return n("div",{staticClass:"wrap:nowrap"},[n("ui-link",{class:{"txt:bold":o},attrs:{name:"user/domains/edit",params:{domain:a}}},[t._v("\n                    "+t._s(t.$p6e.toU(a))+"\n                ")]),t._v(" "),i?t._e():n("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[n("translate",[t._v("Suspended")])],1)],1)}},{key:"col:bandwidth",fn:function(e){var a=e.bandwidth,o=e.bandwidth_limit;return[t._v("\n                "+t._s(t._f("humanReadableSize")(a))+" /\n                "),o===1/0?n("translate",[t._v("\n                    Unlimited\n                ")]):[t._v("\n                    "+t._s(t._f("humanReadableSize")(o))+"\n                ")]]}},{key:"col:quota",fn:function(e){var a=e.quota,o=e.quota_limit;return[t._v("\n                "+t._s(t._f("humanReadableSize")(a))+" /\n                "),o===1/0?n("translate",[t._v("\n                    Unlimited\n                ")]):[t._v("\n                    "+t._s(t._f("humanReadableSize")(o))+"\n                ")]]}},{key:"col:active",fn:function(e){return[e.item.active?n("translate",[t._v("Active")]):n("translate",[t._v("Suspended")])]}}])},"ui-table",{rows:t.rows},!1),[n("template",{slot:"table:actions"},[t.checkedRows.length<=1?n("ui-table-action",{on:{click:t.setCheckedAsDefault}},[n("translate",[t._v("Set as default")])],1):t._e(),t._v(" "),n("ui-table-action",{on:{click:t.changeDomainStatus}},[n("translate",[t._v("Suspend / Unsuspend")])],1),t._v(" "),n("ui-table-action",{on:{click:function(e){t.$dialog("DELETE_ITEMS_DIALOG").open()}}},[n("translate",[t._v("Delete")])],1)],1)],2),t._v(" "),n("ui-dialog-delete-items",{attrs:{subject:t.$ngettext("domain","domains",t.checkedDomains.length)},on:{"click:confirm":t.deleteDomains}})],1),t._v(" "),n("rename-domain-dialog",{on:{rename:t.loadDomains}})],2)},o=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o})},2310:function(t,e){},2311:function(t,e,n){"use strict";n.r(e);var a=n(1923),o=n(1491);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var r=n(0),s=Object(r.a)(o.default,a.a,a.b,!1,null,null,null);e.default=s.exports}}]);