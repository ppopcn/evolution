(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1117:function(t,e,i){"use strict";i.r(e);var a=i(2045),n=i(1468);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);var o=i(0),l=i(2297),s=i.n(l),u=Object(o.a)(n.default,a.a,a.b,!1,null,null,null);"function"==typeof s.a&&s()(u),e.default=u.exports},1467:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(8)),n=s(i(7)),r=s(i(3)),o=i(20),l=i(13);function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)({},(0,l.preload)("GET_EMAIL_POP_ACCOUNTS"),{data:function(){return{user:"",password:"",quota:0,limit:"0",quotaUnlimited:!1,limitUnlimited:!0}},computed:(0,r.default)({},(0,o.mapState)({setLimit:function(t){return t.api.GET_EMAIL_POP_ACCOUNTS.response.options.user_can_set_email_limit},globalSendLimit:function(t){return t.api.GET_EMAIL_POP_ACCOUNTS.response.options.GLOBAL_PER_EMAIL_LIMIT},defaultQuota:function(t){return t.api.GET_EMAIL_POP_ACCOUNTS.response.options.DEFAULT_POP_QUOTA}}),{canSetUnlimited:function(){return"0"===this.globalSendLimit}}),created:function(){this.quota=this.defaultQuota,this.quotaUnlimited="0"===this.quota,this.limit=this.globalSendLimit,this.limitUnlimited="0"===this.limit},methods:{createAccount:function(){var t=this;return(0,n.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("CREATE_EMAIL_POP_ACCOUNT",{user:t.user,passwd:t.password,passwd2:t.password,quota:t.quota,limit:t.setLimit?t.limit:null});case 2:e.sent&&t.$router.back();case 4:case"end":return e.stop()}},e,t)}))()},validateLimit:function(t){return Number(t||0)<=Number(this.globalSendLimit)},validateUser:function(t){var e=this;return(0,n.default)(a.default.mark(function i(){var n,r;return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return",!1);case 2:return i.next=4,e.$request("VALIDATE_EMAIL",{value:t+"@"+e.$domain});case 4:return n=i.sent,r=n.error,i.abrupt("return",!r);case 7:case"end":return i.stop()}},i,e)}))()},toggleLimit:function(){this.limitUnlimited=!this.limitUnlimited,this.limit=this.limitUnlimited?"0":""},toggleQuota:function(){this.quotaUnlimited=!this.quotaUnlimited,this.quota=this.quotaUnlimited?"0":this.defaultQuota},validateQuota:function(t){return Number(t)<=100*Math.pow(2,20)}}})},1468:function(t,e,i){"use strict";i.r(e);var a=i(1467),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e.default=n.a},2045:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-page",[i("app-page-section",[i("ui-form-element",{attrs:{group:"account",validators:{required:!0,validateUser:t.validateUser}}},[i("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Username")]),t._v(" "),i("input-text",{attrs:{slot:"content",suffix:"@"+t.$domainUnicode},slot:"content",model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),t._v(" "),i("span",{attrs:{slot:"error:validateUser"},slot:"error:validateUser"},[t._v("\n                "+t._s(t.$state.api.VALIDATE_EMAIL.response.error)+"\n            ")])],1),t._v(" "),i("ui-form-element",{attrs:{group:"account",validators:{required:!0,apiValidation:"VALIDATE_PASSWORD"}}},[i("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Password\n            ")]),t._v(" "),i("input-password",{attrs:{slot:"content",showGenerator:""},slot:"content",model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),i("span",{attrs:{slot:"error:apiValidation"},slot:"error:apiValidation"},[t._v("\n                "+t._s(t.$state.api.VALIDATE_PASSWORD.response.error)+"\n            ")])],1),t._v(" "),i("ui-form-element",{attrs:{group:"account",validators:{required:!0,validateQuota:t.validateQuota}}},[i("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                E-mail Quota (MB)\n            ")]),t._v(" "),i("input-text",{attrs:{slot:"content",disabled:t.quotaUnlimited,number:""},slot:"content",model:{value:t.quota,callback:function(e){t.quota=e},expression:"quota"}},[i("ui-button",{attrs:{slot:"additions:right"},on:{click:t.toggleQuota},slot:"additions:right"},[i("input-checkbox",{attrs:{model:t.quotaUnlimited}},[i("translate",[t._v("Unlimited")])],1)],1)],1),t._v(" "),i("translate",{attrs:{slot:"error:validateQuota"},slot:"error:validateQuota"},[t._v("\n                Quota can't be larger than 100TB\n            ")])],1),t._v(" "),t.setLimit?i("ui-form-element",{attrs:{group:"account",validators:{validateLimit:t.validateLimit}}},[i("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Send Limit\n            ")]),t._v(" "),i("translate",{attrs:{slot:"tooltip","translate-params":{limit:t.globalSendLimit}},slot:"tooltip"},[t._v("\n                Blank will default to %{ limit }\n            ")]),t._v(" "),i("input-text",{attrs:{slot:"content",number:"",placeholder:t.globalSendLimit,disabled:t.limitUnlimited},slot:"content",model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}},[i("ui-button",{attrs:{slot:"additions:right",disabled:!t.canSetUnlimited},on:{click:t.toggleLimit},slot:"additions:right"},[i("input-checkbox",{attrs:{model:t.limitUnlimited}},[i("translate",[t._v("Unlimited")])],1)],1)],1),t._v(" "),i("translate",{attrs:{slot:"error:validateLimit","translate-params":{limit:t.globalSendLimit}},slot:"error:validateLimit"},[t._v("\n                Limit can't be larger than %{ limit }\n            ")])],1):t._e()],1),t._v(" "),i("ui-button",{attrs:{slot:"footer:buttons",theme:"primary",disabled:!t.password,validateGroup:"account"},on:{click:t.createAccount},slot:"footer:buttons"},[i("translate",[t._v("Create Account")])],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},2297:function(t,e){}}]);